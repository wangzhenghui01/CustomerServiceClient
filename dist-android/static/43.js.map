{"version":3,"sources":["webpack:///43.js","webpack:///BillGZKMakeInfo.vue","webpack:///./src/components/product/Bill/BillGZKMakeInfo.vue?f462","webpack:///./src/components/product/Bill/BillGZKMakeInfo.vue?e0d1","webpack:///./src/components/product/Bill/BillGZKMakeInfo.vue?4426","webpack:///./src/components/product/Bill/BillGZKMakeInfo.vue"],"names":["webpackJsonp","346","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_assign","_assign2","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_vueClient","title","props","data","billinfo","f_billnumber","number","ready","_ref","apply","this","arguments","mark","_callee","http","res","wrap","_context","prev","next","HttpResetClass","tablename","condition","load","resolveMsg","rejectMsg","silent","sent","handle","stop","methods","length","updateNumber","_ref2","_callee2","_context2","Number","billselect","id","f_bill_type","504","push","version","sources","names","mappings","file","sourceRoot","586","content","locals","782","897","__vue_script__","__vue_template__","__vue_styles__","__vue_options__","options","template","computed","keys","forEach","key"],"mappings":"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","file":"43.js","sourcesContent":["webpackJsonp([43],{\n\n/***/ 346:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(11);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _regenerator = __webpack_require__(2);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _asyncToGenerator2 = __webpack_require__(7);\n\t\n\tvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\t\n\tvar _vueClient = __webpack_require__(3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  title: \"确认卡信息\",\n\t  props: ['billselect', 'selectone'],\n\t  data: function data() {\n\t    return {\n\t      billinfo: { f_billnumber: null },\n\t      number: null\n\t    };\n\t  },\n\t  ready: function () {\n\t    var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n\t      var http, data, res;\n\t      return _regenerator2.default.wrap(function _callee$(_context) {\n\t        while (1) {\n\t          switch (_context.prev = _context.next) {\n\t            case 0:\n\t              http = new _vueClient.HttpResetClass();\n\t              data = {\n\t                tablename: 't_singlevalue',\n\t                condition: 'name = \\'\\u6539\\u88C5\\u5361\\u7F16\\u53F7\\''\n\t              };\n\t              _context.next = 4;\n\t              return http.load('POST', 'rs/sql/singleTable', { data: data }, {\n\t                resolveMsg: null,\n\t                rejectMsg: \"获取单据编号失败\"\n\t              }, { silent: true });\n\t\n\t            case 4:\n\t              res = _context.sent;\n\t\n\t              this.number = res.data[0];\n\t              this.handle();\n\t              this.billinfo.f_billnumber = this.number.value;\n\t\n\t            case 8:\n\t            case 'end':\n\t              return _context.stop();\n\t          }\n\t        }\n\t      }, _callee, this);\n\t    }));\n\t\n\t    function ready() {\n\t      return _ref.apply(this, arguments);\n\t    }\n\t\n\t    return ready;\n\t  }(),\n\t\n\t  methods: {\n\t    handle: function handle() {\n\t      while (this.number.value.length < 8) {\n\t        this.number.value = '0' + this.number.value;\n\t      }\n\t    },\n\t    updateNumber: function () {\n\t      var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n\t        var http, billinfo, data;\n\t        return _regenerator2.default.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                http = new _vueClient.HttpResetClass();\n\t\n\t                this.number.value = Number(this.number.value) + 1;\n\t                http.load('POST', 'rs/logic/updatesinglevalue', { data: this.number }, { resolveMsg: null, rejectMsg: \"改装卡编号保存失败\" });\n\t                http = new _vueClient.HttpResetClass();\n\t                billinfo = (0, _assign2.default)({}, this.billselect, this.billinfo);\n\t\n\t                delete billinfo.id;\n\t\n\t                billinfo.f_bill_type = '改装卡';\n\t                data = {\n\t                  billinfo: billinfo\n\t                };\n\t                _context2.next = 10;\n\t                return http.load('POST', 'rs/logic/makebillrecord', { data: data }, { resolveMsg: null, rejectMsg: \"改装卡编号存储失败\" });\n\t\n\t              case 10:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function updateNumber() {\n\t        return _ref2.apply(this, arguments);\n\t      }\n\t\n\t      return updateNumber;\n\t    }()\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 504:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(4)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"BillGZKMakeInfo.vue\",\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 586:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(504);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(5)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!../../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BillGZKMakeInfo.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!../../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BillGZKMakeInfo.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 782:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \" <billgzk v-ref:billqrk=\\\"\\\" :billselect=billselect :billinfo=billinfo _v-3e30fbd0=\\\"\\\"></billgzk> \";\n\n/***/ }),\n\n/***/ 897:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__webpack_require__(586)\n\t__vue_script__ = __webpack_require__(346)\n\t__vue_template__ = __webpack_require__(782)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 43.js","<template>\r\n  <billgzk  v-ref:billqrk :billselect=\"billselect\" :billinfo=\"billinfo\"></billgzk>\r\n</template>\r\n\r\n<script>\r\n  import  {HttpResetClass} from 'vue-client'\r\n  export default {\r\n    title: \"确认卡信息\",\r\n    props:['billselect','selectone'],\r\n    data(){\r\n      return{\r\n        billinfo: {f_billnumber:null},\r\n        number: null\r\n      }\r\n    },\r\n    async ready(){\r\n      let http = new HttpResetClass()\r\n      let data = {\r\n        tablename: 't_singlevalue',\r\n        condition: `name = '改装卡编号'`\r\n      }\r\n      let res = await http.load('POST', 'rs/sql/singleTable', {data: data}, {\r\n        resolveMsg: null,\r\n        rejectMsg: \"获取单据编号失败\"\r\n      }, {silent: true})\r\n      this.number = res.data[0]\r\n      this.handle()\r\n      this.billinfo.f_billnumber = this.number.value\r\n    },\r\n    methods: {\r\n      // 处理数字,例如: 1 转换成 001\r\n      handle() {\r\n        while (this.number.value.length < 8) {\r\n          this.number.value = '0' + this.number.value\r\n        }\r\n      },\r\n      // 更新 确认卡编号\r\n      async updateNumber() {\r\n        let http = new HttpResetClass()\r\n        this.number.value = Number(this.number.value) + 1\r\n        http.load('POST', 'rs/logic/updatesinglevalue', {data: this.number}, {resolveMsg: null, rejectMsg: \"改装卡编号保存失败\"})\r\n        http = new HttpResetClass()\r\n        let billinfo = Object.assign({}, this.billselect, this.billinfo)\r\n        delete billinfo.id\r\n        // 票据类型\r\n        billinfo.f_bill_type = '改装卡'\r\n        let data = {\r\n          billinfo: billinfo\r\n        }\r\n        await http.load('POST', 'rs/logic/makebillrecord', {data: data}, {resolveMsg: null, rejectMsg: \"改装卡编号存储失败\"})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// BillGZKMakeInfo.vue?6faa435c","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"BillGZKMakeInfo.vue\",\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/product/Bill/BillGZKMakeInfo.vue\n// module id = 504\n// module chunks = 43","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!../../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BillGZKMakeInfo.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!../../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BillGZKMakeInfo.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!../../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BillGZKMakeInfo.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/product/Bill/BillGZKMakeInfo.vue\n// module id = 586\n// module chunks = 43","module.exports = \" <billgzk v-ref:billqrk=\\\"\\\" :billselect=billselect :billinfo=billinfo _v-3e30fbd0=\\\"\\\"></billgzk> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-3e30fbd0!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/product/Bill/BillGZKMakeInfo.vue\n// module id = 782\n// module chunks = 43","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3e30fbd0&scoped=true!../../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BillGZKMakeInfo.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./BillGZKMakeInfo.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-3e30fbd0!../../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./BillGZKMakeInfo.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product/Bill/BillGZKMakeInfo.vue\n// module id = 897\n// module chunks = 43"],"sourceRoot":""}