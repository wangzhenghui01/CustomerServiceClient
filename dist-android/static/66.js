webpackJsonp([66],{364:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),h=i(a),o=s(6),n=i(o),r=s(7),l=i(r),c=s(11),f=i(c),p=s(3);e.default={title:"报建功能业务控制层",props:["selectdata","funcdata"],data:function(){return{data:null,model:null,json_datas:null,showview:!1,showcontract:!1,showinfee:!1,showprestorefee:!1,showstop:!1,showbill:!1,showpreparation:!1}},methods:{preparation:function(){this.$parent.$refs.installselect.clifun(this.selectdata),this.$parent.$refs.installselect.clifun(this.selectdata),this.$parent.clishow=!0,this.$parent.show=!1,this.showview=!1,this.showinfee=!1,this.showprestorefee=!1,this.showupfee=!1,this.showreducefee=!1,this.showstop=!1,this.showcontract=!1,this.showbill=!1,this.showpreparation=!0},bill:function(){this.$parent.$refs.installselect.clifun(this.selectdata),this.$parent.clishow=!0,this.$parent.show=!1,this.showview=!1,this.showinfee=!1,this.showprestorefee=!1,this.showupfee=!1,this.showreducefee=!1,this.showstop=!1,this.showcontract=!1,this.showpreparation=!1,this.showbill=!0},contract:function(){this.$parent.$refs.installselect.clifun(this.selectdata),this.$parent.clishow=!0,this.$parent.show=!1,this.showview=!1,this.showinfee=!1,this.showprestorefee=!1,this.showupfee=!1,this.showreducefee=!1,this.showstop=!1,this.showbill=!1,this.showpreparation=!1,this.showcontract=!0},instalfee:function(t){this.$parent.$refs.installselect.clifun(this.selectdata),this.$parent.clishow=!0,this.$parent.show=!1,this.showview=!1,this.showupfee=!1,this.showreducefee=!1,this.showstop=!1,this.showcontract=!1,this.showbill=!1,this.showpreparation=!1,this.showprestorefee=!1,this.showinfee=!1,"预付扣款"===t?this.showprestorefee=!0:this.showinfee=!0},stopInstall:function(){this.$parent.$refs.installselect.clifun(this.selectdata),this.$parent.clishow=!0,this.$parent.show=!1,this.showview=!1,this.showbill=!1,this.showinfee=!1,this.showprestorefee=!1,this.showupfee=!1,this.showreducefee=!1,this.showcontract=!1,this.showpreparation=!1,this.showstop=!0},initializtion:function(){this.data=(0,f.default)({},this.data,this.selectdata);for(var t=0;t<this.data.fields.length;t++)this.selectdata[this.data.fields[t].field]&&(this.data.fields[t].value=this.selectdata[this.data.fields[t].field]),"select"===this.data.fields[t].type&&(this.data.fields[t].options=this.$appdata.getParam(this.data.fields[t].label))},hasChange:function(){this.funcdata.fields?(this.data=this.funcdata,this.initializtion(),this.$parent.clishow=!0,this.$parent.show=!1,this.showview=!0,this.showbill=!1,this.showinfee=!1,this.showprestorefee=!1,this.showcontract=!1,this.showpreparation=!1,this.showstop=!1):("终止报建"===this.funcdata.title&&this.stopInstall(),"预付扣款"===this.funcdata.title&&this.instalfee("预付扣款"),"报建收费"===this.funcdata.title&&this.instalfee(),"打印票据"===this.funcdata.title&&this.bill(),"补充协议"===this.funcdata.title&&this.contract(),"预付款"===this.funcdata.title&&this.preparation())}},events:{select_cascade:function(t){},button:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.default)(h.default.mark(function t(e){var s,i;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("button事件接收参数：",e),e=(0,f.default)({},this.selectdata,e),s=new p.HttpResetClass,t.next=5,s.load("POST","rs/logic/ApplyProductFunctionService",{data:{tables:this.funcdata.tables,model:e,loginUser:this.$login.f}},{resolveMsg:null,rejectMsg:"数据保存失败"});case 5:if(i=t.sent,console.log("service处理完成返回数据：",(0,n.default)(i.data)),!(i.code=200)){t.next=12;break}this.$dispatch("hiddenbtn"),this.showview=!1,t.next=13;break;case 12:throw i.data.msg;case 13:case"end":return t.stop()}},t,this)}));return t}()},watch:{funcdata:function(){this.hasChange()},selectdata:function(){this.hasChange()},deep:!0}}},741:function(t,e){t.exports=" <div> <service-view :data=data v-if=showview></service-view> <installfee :infee=selectdata v-if=showinfee></installfee> <preparationfee :selectdata=selectdata v-if=showpreparation></preparationfee> <prestorefee :infee=selectdata v-if=showprestorefee v-ref:prestorefee></prestorefee> <addcontract :addcontract=selectdata v-if=showcontract></addcontract> <stop-install :stopapply=selectdata v-if=showstop></stop-install> </div> "},915:function(t,e,s){var i,a,h={};i=s(364),a=s(741),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(o.template=a),o.computed||(o.computed={}),Object.keys(h).forEach(function(t){var e=h[t];o.computed[t]=function(){return e}})}});
//# sourceMappingURL=66.js.map