{"version":3,"sources":["webpack:///62.js","webpack:///UpdateFee.vue","webpack:///./src/components/product/Function/functions/UpdateFee.vue?7b5f","webpack:///./src/components/product/Function/functions/UpdateFee.vue"],"names":["webpackJsonp","374","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_assign","_assign2","_regenerator","_regenerator2","_co","_co2","gen","mark","self","val","val1","data","wrap","_context","prev","next","tablename","parameters","$resetpost","id","then","reset","stop","this","title","model","f_apply_date","$login","toStandardDateString","f_apply_department","f","f_parentname","f_apply_operator","name","f_filiale","f_fengongsi","labor_cost","change_pipeline_cost","material_cost","construction_cost","sbaz_cost","props","ready","methods","confirm","upfee","total","totalcost","cost","f_total_cost","f_new_total_cost","f_change_pipeline_cost","f_new_change_pipeline_cost","f_material_cost","f_new_material_cost","f_labor_cost","f_new_labor_cost","f_sbaz_cost","f_new_sbaz_cost","f_construction_cost","f_new_construction_cost","f_account_cost","f_new_account_cost","applyid","f_operator","f_department","f_operat_type","f_state","f_describe","f_user_name","getGen","$dispatch","$parent","$refs","installselect","cp","cri","search","costs","Number","f_jmhj_cost","749","925","__vue_script__","__vue_template__","__vue_styles__","__vue_options__","options","template","computed","keys","forEach","key"],"mappings":"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","file":"62.js","sourcesContent":["webpackJsonp([62],{\n\n/***/ 374:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(11);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _regenerator = __webpack_require__(2);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _co = __webpack_require__(8);\n\t\n\tvar _co2 = _interopRequireDefault(_co);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar gen = _regenerator2.default.mark(function gen(self, val, val1) {\n\t  var data;\n\t  return _regenerator2.default.wrap(function gen$(_context) {\n\t    while (1) {\n\t      switch (_context.prev = _context.next) {\n\t        case 0:\n\t          data = {\n\t            tablename: 't_apply',\n\t            parameters: val1\n\t          };\n\t          _context.next = 3;\n\t          return self.$resetpost('rs/logic/save', { data: data });\n\t\n\t        case 3:\n\t          delete val.id;\n\t          data = {\n\t            tablename: 't_record',\n\t            parameters: val\n\t          };\n\t          self.$resetpost('rs/logic/save', { data: data }).then(function () {\n\t            self.reset();\n\t          });\n\t\n\t        case 6:\n\t        case 'end':\n\t          return _context.stop();\n\t      }\n\t    }\n\t  }, gen, this);\n\t});\n\texports.default = {\n\t  title: '费用变更',\n\t  data: function data() {\n\t    return {\n\t      model: {\n\t        f_apply_date: this.$login.toStandardDateString(),\n\t        f_apply_department: this.$login.f.f_parentname,\n\t        f_apply_operator: this.$login.f.name,\n\t        f_filiale: this.$login.f.f_fengongsi\n\t      },\n\t      labor_cost: '',\n\t      change_pipeline_cost: '',\n\t      material_cost: '',\n\t      construction_cost: '',\n\t      sbaz_cost: ''\n\t    };\n\t  },\n\t\n\t  props: ['upfee'],\n\t  ready: function ready() {},\n\t\n\t  methods: {\n\t    confirm: function confirm() {\n\t      this.model = (0, _assign2.default)({}, this.upfee, this.model);\n\t      var total = this.totalcost();\n\t      var cost = this.upfee.f_total_cost;\n\t      this.model.totalcost = cost;\n\t      this.model.f_new_total_cost = total;\n\t      this.model.id = this.upfee.id;\n\t      this.upfee.f_change_pipeline_cost = this.model.f_new_change_pipeline_cost;\n\t      this.upfee.f_material_cost = this.model.f_new_material_cost;\n\t      this.upfee.f_labor_cost = this.model.f_new_labor_cost;\n\t      this.upfee.f_sbaz_cost = this.model.f_new_sbaz_cost;\n\t      this.upfee.f_construction_cost = this.model.f_new_construction_cost;\n\t      this.upfee.f_account_cost = this.model.f_new_account_cost;\n\t      this.upfee.f_total_cost = this.model.f_new_total_cost;\n\t      this.model.applyid = this.upfee.id;\n\t      this.model.f_operator = this.model.f_apply_operator;\n\t      this.model.f_department = this.model.f_apply_department;\n\t      this.model.f_operat_type = '报建费用变更';\n\t      this.model.f_state = '有效';\n\t      this.model.f_describe = '对' + this.model.f_user_name + '进行了费用变更';\n\t      var getGen = gen(this, this.model, this.upfee);\n\t      (0, _co2.default)(getGen);\n\t      this.$dispatch('hiddenbtn');\n\t      this.$dispatch('searchcard');\n\t    },\n\t    reset: function reset() {\n\t      this.$dispatch('hiddenbtn');\n\t      this.$parent.$refs.installselect.$refs.cp.$refs.cri.search();\n\t    },\n\t    totalcost: function totalcost() {\n\t      var costs = Number(this.model.f_new_construction_cost) + Number(this.model.f_new_material_cost) + Number(this.model.f_new_labor_cost) + Number(this.model.f_new_change_pipeline_cost) + Number(this.model.f_new_sbaz_cost) - Number(this.model.f_jmhj_cost);\n\t      return costs;\n\t    }\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 749:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \" <div class=\\\"col-sm-12 auto select-overspread\\\"> <div class=\\\"auto select-overspread\\\"> <div class=\\\"panel panel-info\\\"> <div class=\\\"panel-heading auto\\\"> <h3 class=panel-title>费用变更</h3> </div> </div> </div> <validator name=v> <form class=horizontal style=\\\"padding-top: 50px\\\"> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原开户费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_account_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原入户安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_construction_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原材料费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_material_cost disabled=disabled> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原人工费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_labor_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原改管费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_change_pipeline_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原设备安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_sbaz_cost disabled=disabled /> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4 :class=\\\"[$v.f_new_construction_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新开户费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_account_cost /> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_construction_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新入户安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_construction_cost v-validate:f_new_construction_cost=\\\"{required: true}\\\"/> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_material_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新材料费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_material_cost v-validate:f_new_material_cost=\\\"{required: true}\\\"> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4 :class=\\\"[$v.f_new_labor_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新人工费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_labor_cost v-validate:f_new_labor_cost=\\\"{required: true}\\\"/> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_change_pipeline_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新改管费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_change_pipeline_cost v-validate:f_new_change_pipeline_cost=\\\"{required: true}\\\"/> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_sbaz_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新设备安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_sbaz_cost v-validate:f_new_sbaz_cost=\\\"{required: true}\\\"/> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-2> <label class=\\\"control-label col-sm-12\\\">费用变更备注：</label> </div> <div class=col-sm-10> <textarea class=form-control rows=3 v-model=model.f_changefee_remarks></textarea> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">分公司：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_filiale disabled=disabled> </div> </div> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">操作日期：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_apply_date disabled=disabled> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">部门：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_apply_department disabled=disabled> </div> </div> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">操作人：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_apply_operator disabled=disabled> </div> </div> </div> </form> </validator> <div class=\\\"from-group col-sm-12\\\"> <center> <button type=button @click=confirm() class=\\\"btn btn-primary\\\" style=\\\"width:80px; margin-left:50px\\\" :disabled=$v.invalid> 保存 </button> <button type=button @click=reset() class=\\\"btn btn-warning\\\" style=\\\"width:80px; margin-left:50px\\\"> 返回 </button> </center> </div> </div> \";\n\n/***/ }),\n\n/***/ 925:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(374)\n\t__vue_template__ = __webpack_require__(749)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 62.js","<template>\r\n  <div class=\"col-sm-12 auto select-overspread\">\r\n    <div class=\"auto select-overspread\">\r\n      <div class=\"panel panel-info\">\r\n      \t<div class=\"panel-heading auto\">\r\n      \t\t<h3 class=\"panel-title\">费用变更</h3>\r\n      \t</div>\r\n      </div>\r\n    </div>\r\n    <validator name=\"v\">\r\n    <form class=\"horizontal\" style=\"padding-top: 50px;\">\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-4\">\r\n          <label class=\"control-label col-sm-6\">原开户费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"upfee.f_account_cost\" disabled/>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\">\r\n          <label class=\"control-label col-sm-6\">原入户安装费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"upfee.f_construction_cost\" disabled/>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-sm-4\" >\r\n          <label class=\"control-label col-sm-6\">原材料费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"upfee.f_material_cost\" disabled>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-4\">\r\n          <label class=\"control-label col-sm-6\">原人工费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"upfee.f_labor_cost\" disabled/>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\">\r\n          <label class=\"control-label col-sm-6\">原改管费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"upfee.f_change_pipeline_cost\" disabled/>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\">\r\n          <label class=\"control-label col-sm-6\">原设备安装费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"upfee.f_sbaz_cost\" disabled/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-4\" :class=\"[$v.f_new_construction_cost.required ? 'has-error' : '']\">\r\n          <label class=\"control-label col-sm-6\">新开户费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"model.f_new_account_cost\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\" :class=\"[$v.f_new_construction_cost.required ? 'has-error' : '']\">\r\n          <label class=\"control-label col-sm-6\">新入户安装费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"model.f_new_construction_cost\" v-validate:f_new_construction_cost='{required: true}'/>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-sm-4\" :class=\"[$v.f_new_material_cost.required ? 'has-error' : '']\">\r\n          <label class=\"control-label col-sm-6\">新材料费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"model.f_new_material_cost\" v-validate:f_new_material_cost='{required: true}'>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-4\" :class=\"[$v.f_new_labor_cost.required ? 'has-error' : '']\">\r\n          <label class=\"control-label col-sm-6\">新人工费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"model.f_new_labor_cost\" v-validate:f_new_labor_cost='{required: true}'/>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\" :class=\"[$v.f_new_change_pipeline_cost.required ? 'has-error' : '']\">\r\n          <label class=\"control-label col-sm-6\">新改管费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"model.f_new_change_pipeline_cost\" v-validate:f_new_change_pipeline_cost='{required: true}'/>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\" :class=\"[$v.f_new_sbaz_cost.required ? 'has-error' : '']\">\r\n          <label class=\"control-label col-sm-6\">新设备安装费：</label>\r\n          <div class=\"col-sm-6\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"model.f_new_sbaz_cost\" v-validate:f_new_sbaz_cost='{required: true}'/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-2\">\r\n          <label class=\"control-label col-sm-12\">费用变更备注：</label>\r\n        </div>\r\n        <div class=\"col-sm-10\">\r\n          <textarea class=\"form-control\" rows=\"3\" v-model=\"model.f_changefee_remarks\"></textarea>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-6\">\r\n          <label class=\"control-label col-sm-4\">分公司：</label>\r\n          <div class=\"col-sm-8\">\r\n            <input class=\"form-control\" type=\"text\" v-model=\"model.f_filiale\"  disabled>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-6\">\r\n          <label class=\"control-label col-sm-4\">操作日期：</label>\r\n          <div class=\"col-sm-8\">\r\n            <input class=\"form-control\" type=\"text\" v-model=\"model.f_apply_date\"  disabled>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-sm-12\">\r\n        <div class=\"col-sm-6\">\r\n          <label class=\"control-label col-sm-4\">部门：</label>\r\n          <div class=\"col-sm-8\">\r\n            <input class=\"form-control\" type=\"text\" v-model=\"model.f_apply_department\"  disabled>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-6\">\r\n          <label class=\"control-label col-sm-4\">操作人：</label>\r\n          <div class=\"col-sm-8\">\r\n            <input class=\"form-control\" type=\"text\" v-model=\"model.f_apply_operator\"  disabled>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    </validator>\r\n    <div class=\"from-group col-sm-12\">\r\n      <center>\r\n        <button type=\"button\" @click=\"confirm()\" class=\"btn btn-primary\" style=\"width:80px; margin-left:50px;\" :disabled=\"$v.invalid\">\r\n          保存\r\n        </button>\r\n        <button  type=\"button\" @click=\"reset()\" class=\"btn btn-warning\" style=\"width:80px; margin-left:50px;\">\r\n          返回\r\n        </button>\r\n      </center>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  // import AppData from '../../../../stores/AppData'\r\n  import co from 'co'\r\n  let gen = function * (self, val, val1) {\r\n    let data ={\r\n      tablename:'t_apply',\r\n      parameters:val1\r\n    }\r\n    yield self.$resetpost('rs/logic/save', {data:data})\r\n    delete val.id\r\n     data ={\r\n      tablename:'t_record',\r\n      parameters:val\r\n    }\r\n    self.$resetpost('rs/logic/save', {data:data})\r\n    .then(() => {\r\n      self.reset()\r\n    })\r\n  }\r\n  export default {\r\n    title: '费用变更',\r\n    data () {\r\n      return {\r\n        model: {\r\n          f_apply_date: this.$login.toStandardDateString(),\r\n          f_apply_department: this.$login.f.f_parentname,\r\n          f_apply_operator: this.$login.f.name,\r\n          f_filiale: this.$login.f.f_fengongsi\r\n        },\r\n        labor_cost: '',\r\n        change_pipeline_cost: '',\r\n        material_cost: '',\r\n        construction_cost: '',\r\n        sbaz_cost: ''\r\n      }\r\n    },\r\n    props: ['upfee'],\r\n    ready () {\r\n      // this.model = Object.assign({}, this.upfee, this.model)\r\n    },\r\n    methods: {\r\n      confirm () {\r\n        this.model = Object.assign({}, this.upfee, this.model)\r\n        let total = this.totalcost()\r\n        let cost = this.upfee.f_total_cost\r\n        this.model.totalcost = cost\r\n        this.model.f_new_total_cost = total\r\n        this.model.id = this.upfee.id\r\n        this.upfee.f_change_pipeline_cost = this.model.f_new_change_pipeline_cost\r\n        this.upfee.f_material_cost = this.model.f_new_material_cost\r\n        this.upfee.f_labor_cost = this.model.f_new_labor_cost\r\n        this.upfee.f_sbaz_cost = this.model.f_new_sbaz_cost\r\n        this.upfee.f_construction_cost = this.model.f_new_construction_cost\r\n        this.upfee.f_account_cost = this.model.f_new_account_cost\r\n        this.upfee.f_total_cost = this.model.f_new_total_cost\r\n        this.model.applyid = this.upfee.id\r\n        this.model.f_operator = this.model.f_apply_operator\r\n        this.model.f_department = this.model.f_apply_department\r\n        this.model.f_operat_type = '报建费用变更'\r\n        this.model.f_state = '有效'\r\n        this.model.f_describe = '对' + this.model.f_user_name + '进行了费用变更'\r\n        let getGen = gen(this, this.model, this.upfee)\r\n        co(getGen)\r\n        this.$dispatch('hiddenbtn')\r\n        this.$dispatch('searchcard')\r\n      },\r\n      reset() {\r\n        this.$dispatch('hiddenbtn')\r\n        this.$parent.$refs.installselect.$refs.cp.$refs.cri.search()\r\n      },\r\n      totalcost () {\r\n        let costs = Number(this.model.f_new_construction_cost) + Number(this.model.f_new_material_cost)\r\n           + Number(this.model.f_new_labor_cost) + Number(this.model.f_new_change_pipeline_cost)\r\n           + Number(this.model.f_new_sbaz_cost) - Number(this.model.f_jmhj_cost)\r\n        return costs\r\n      }\r\n      // oldtotalcost () {\r\n      //   this.model.f_total_cost = Number(this.construction_cost) + Number(this.material_cost)\r\n      //      + Number(this.labor_cost) + Number(this.change_pipeline_cost)\r\n      //      + Number(this.sbaz_cost) - Number(this.upfee.f_jmhj_cost)\r\n      //   return this.model.f_total_cost\r\n      // }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// UpdateFee.vue?4fa22670","module.exports = \" <div class=\\\"col-sm-12 auto select-overspread\\\"> <div class=\\\"auto select-overspread\\\"> <div class=\\\"panel panel-info\\\"> <div class=\\\"panel-heading auto\\\"> <h3 class=panel-title>费用变更</h3> </div> </div> </div> <validator name=v> <form class=horizontal style=\\\"padding-top: 50px\\\"> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原开户费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_account_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原入户安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_construction_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原材料费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_material_cost disabled=disabled> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原人工费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_labor_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原改管费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_change_pipeline_cost disabled=disabled /> </div> </div> <div class=col-sm-4> <label class=\\\"control-label col-sm-6\\\">原设备安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=upfee.f_sbaz_cost disabled=disabled /> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4 :class=\\\"[$v.f_new_construction_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新开户费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_account_cost /> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_construction_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新入户安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_construction_cost v-validate:f_new_construction_cost=\\\"{required: true}\\\"/> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_material_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新材料费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_material_cost v-validate:f_new_material_cost=\\\"{required: true}\\\"> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-4 :class=\\\"[$v.f_new_labor_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新人工费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_labor_cost v-validate:f_new_labor_cost=\\\"{required: true}\\\"/> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_change_pipeline_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新改管费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_change_pipeline_cost v-validate:f_new_change_pipeline_cost=\\\"{required: true}\\\"/> </div> </div> <div class=col-sm-4 :class=\\\"[$v.f_new_sbaz_cost.required ? 'has-error' : '']\\\"> <label class=\\\"control-label col-sm-6\\\">新设备安装费：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_new_sbaz_cost v-validate:f_new_sbaz_cost=\\\"{required: true}\\\"/> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-2> <label class=\\\"control-label col-sm-12\\\">费用变更备注：</label> </div> <div class=col-sm-10> <textarea class=form-control rows=3 v-model=model.f_changefee_remarks></textarea> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">分公司：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_filiale disabled=disabled> </div> </div> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">操作日期：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_apply_date disabled=disabled> </div> </div> </div> <div class=\\\"form-group col-sm-12\\\"> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">部门：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_apply_department disabled=disabled> </div> </div> <div class=col-sm-6> <label class=\\\"control-label col-sm-4\\\">操作人：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_apply_operator disabled=disabled> </div> </div> </div> </form> </validator> <div class=\\\"from-group col-sm-12\\\"> <center> <button type=button @click=confirm() class=\\\"btn btn-primary\\\" style=\\\"width:80px; margin-left:50px\\\" :disabled=$v.invalid> 保存 </button> <button type=button @click=reset() class=\\\"btn btn-warning\\\" style=\\\"width:80px; margin-left:50px\\\"> 返回 </button> </center> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/product/Function/functions/UpdateFee.vue\n// module id = 749\n// module chunks = 62","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./UpdateFee.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./UpdateFee.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product/Function/functions/UpdateFee.vue\n// module id = 925\n// module chunks = 62"],"sourceRoot":""}