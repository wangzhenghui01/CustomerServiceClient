webpackJsonp([49],{13:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){if(e.f_state="",e.f_signin_time&&e.f_knockoff_time){var a=e.f_signin_time.substring(11,16),n=e.f_knockoff_time.substring(11,16);a>t&&(e.f_state="迟到"),n<r&&(e.f_state=e.f_state+"早退")}else e.f_state="缺勤";e.f_state||(e.f_state="正常")}function o(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+"-"+(t<10?"0"+t:t)}function l(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+(t<10?"0"+t:t)}function s(){var e=new Date,t=e.getMonth()+1,r=e.getDate();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(r<10?"0"+r:r)}function i(){var e=new Date,t=e.getMonth()+1,r=e.getDate();return e.getFullYear()+""+(t<10?"0"+t:t)+(r<10?"0"+r:r)}function d(){var e=new Date,t=e.getMonth()+1;return[e.getFullYear()+"-"+(t<10?"0"+t:t)+"-01",e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+new Date(e.getFullYear(),t,0).getDate()]}function c(){var e=new Date,t=e.getMonth()+1,r=e.getDate(),a=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(r<10?"0"+r:r)+" "+(a<10?"0"+a:a)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)}function u(){var e=new Date,t=e.getMonth()+1,r=e.getDate(),a=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(r<10?"0"+r:r)+"T"+(a<10?"0"+a:a)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)}function f(e){return new Date(e.substr(0,4),e.substr(5,2)-1,e.substr(8,2),e.substr(11,2),e.substr(14,2),e.substr(17,2))}function m(e){var t=e.getMonth()+1,r=e.getDate(),a=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(r<10?"0"+r:r)+"T"+(a<10?"0"+a:a)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)}function v(){var e=new Uint16Array(8);window.crypto.getRandomValues(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"请选择";if("view"!=e){var n=[];if(r&&n.push({label:a,value:null}),T.default.param&&T.default.param[t]){var o=T.default.param[t];o.forEach(function(e){n.push({label:e.name,value:e.name})})}else n.push({label:"请在系统设置里更新参数",value:"请在系统设置里更新参数"});return n}T.default.getParams(t,[null])}function g(e){return("number"!=typeof e||0!=e)&&(!e||(e+="",e=e.trim(),!e))}function h(e){return!window.isNaN(e)&&e%1===0}function b(e){return!window.isNaN(e)}function _(e){for(var t in e)e.hasOwnProperty(t)&&("object"==(0,N.default)(e[t])&&null!=e[t]?_(e[t]):"true"!==e[t]&&"false"!=e[t]||(e[t]="true"===e[t]))}function w(e){for(var t in e)t.endsWith("_path")?e[t]?e[t]="rs/db/file/"+e[t]:e[t]="rs/db/file/nopic.png":null!==e[t]&&"object"==(0,N.default)(e[t])&&w(e[t])}function y(e,t){return new O.default(function(r,a){var n=void 0;"css"==e?(n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t)):"js"==e&&(n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("src",t)),n&&(n.setAttribute("async",""),n.setAttribute("defer",""),n.addEventListener("load",function(){r(n)},!1),n.addEventListener("error",function(){a(n)},!1),document.body.appendChild(n))})}function x(e){return e.substring(10)}function D(e){var t="",r="",a=new Date;t=a.getDay();var n=a.getMonth()+1,o=a.getDate(),l=a.getYear();r=l>200?l:1900+l;var s=["星期日","星期一","星期二","星期三","星期四","星期五","星期日","星期六"];return r+"年"+n+"月"+o+"日  "+s[t]}function M(e,t){var r=new Date(e);r=r.valueOf(),r+=24*t*60*60*1e3,r=new Date(r);var a=r.getMonth()+1,n=r.getDate(),o=r.getHours(),l=r.getMinutes(),s=r.getSeconds();return r.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(n<10?"0"+n:n)+" "+(o<10?"0"+o:o)+":"+(l<10?"0"+l:l)+":"+(s<10?"0"+s:s)}function S(e){var t=window.location.search,r=e.length,a=t.indexOf(e);if(a===-1)return"";a+=r+1;var n=t.indexOf("&",a);return n===-1?t.substring(a):t.substring(a,n)}function A(e){var t=Y(window.location.search.slice(1,window.location.search.length)),r=e.length,a=t.indexOf(e);if(a===-1)return"";a+=r+1;var n=t.indexOf("&",a);return n===-1?t.substring(a):t.substring(a,n)}function C(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),r=1;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)+e.charCodeAt(r-1));return escape(t)}function Y(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),r=1;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)-t.charCodeAt(r-1));return t}function j(e){var t=(new Date).getTime(),r=new Date(e).getTime(),a=t-r,n=6e4,o=60*n,l=24*o,s=30*l,i=12*s,d="";return a<=2*n?d="刚刚":2*n<a&&a<o?d=Math.floor(a/n)+"分钟前":o<a&&a<=l?d=Math.floor(a/o)+"小时前":l<a&&a<=s?d=Math.floor(a/l)+"天前":s<a&&a<=i?d=Math.floor(a/s)+"个月前":i<a&&(d=Math.floor(a/i)+"年前"),d}function F(e){var t=e.split("-"),r=t[1]-0+1;return t[0]+"-"+(r<10?"0"+r:r)+"-20 00:00:00"}Object.defineProperty(t,"__esModule",{value:!0}),t.f=void 0;var $=r(10),O=a($),k=r(12),N=a(k);t.getAttendanceState=n,t.toStandardYearMonth=o,t.toStandardYearMonth1=l,t.toStandardDateString=s,t.toStandardDateString2=i,t.toStartAndEndDateString=d,t.toStandardTimeString=c,t.to3339TimeString=u,t.parse3339String=f,t.format3339TimeString=m,t.guid=v,t.choices=p,t.required=g,t.isInt=h,t.isFloat=b,t.booleanFilter=_,t.ratifyPics=w,t.loadscript=y,t.orgName=x,t.getNowDate=D,t.addDate=M,t.getUrlParames=S,t.getUrlCompileParames=A,t.compileStr=C,t.uncompileStr=Y,t.dateDescripte=j,t.nextMonth20=F;var P=r(1),T=a(P);t.f=void 0},372:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),l=n(o),s=r(2),i=n(s),d=r(13),c=a(d),u=r(8),f=n(u),m=i.default.mark(function e(t,r){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={tablename:"t_apply",parameters:r},e.next=3,t.$resetpost("rs/logic/save",{data:a});case 3:delete r.id,a={tablename:"t_record",parameters:r},t.$resetpost("rs/logic/save",{data:a}).then(function(){t.reset()});case 6:case"end":return e.stop()}},e,this)});t.default={title:"费用减免",data:function(){return{model:{f_date:c.toStandardTimeString(),f_department:this.$login.f.f_parentname,f_operator:this.$login.f.name,f_filiale:this.$login.f.f_fengongsi}}},props:["redufee"],methods:{confirm:function(){this.model=(0,l.default)({},this.redufee,this.model),this.model.id=this.redufee.id,this.model.f_total_cost=Number(this.model.f_total_cost)-Number(this.model.f_fee);var e=this.reduce();this.model.f_jmhj_cost=e,this.model.applyid=this.redufee.id,this.model.f_operat_type="报建费用减免",this.model.f_state="有效",this.model.f_describe="对"+this.model.f_user_name+"进行了费用减免";var t=m(this,this.model);(0,f.default)(t),this.$dispatch("searchcard"),this.$dispatch("hiddenbtn")},reset:function(){this.$dispatch("hiddenbtn"),this.$parent.$refs.installselect.$refs.cp.$refs.cri.search()},reduce:function(){var e=Number(this.redufee.f_jmhj_cost)+Number(this.model.f_fee);return e}}}},747:function(e,t){e.exports=' <div class="col-sm-12 auto select-overspread"> <div class="auto select-overspread"> <div class="panel panel-info"> <div class="panel-heading auto"> <h3 class=panel-title>费用减免</h3> </div> </div> </div> <validator name=v> <form class=horizontal style="padding-top: 50px"> <div class="form-group col-sm-12"> <div class=col-sm-4> <label class="control-label col-sm-6">减免科目：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_subject /> </div> </div> <div class=col-sm-4> <label class="control-label col-sm-6">减免费用：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_fee v-validate:f_fee="{required: true}"/> </div> </div> <div class=col-sm-4> <label class="control-label col-sm-6">审批领导：</label> <div class=col-sm-6> <input type=text class=form-control v-model=model.f_leader /> </div> </div> </div> <div class="form-group col-sm-12"> <div class=col-sm-2> <label class="control-label col-sm-12">审批内容：</label> </div> <div class=col-sm-10> <textarea class=form-control rows=3 v-model=model.f_content></textarea> </div> </div> <div style=height:200px></div> <div class="form-group col-sm-12"> <div class=col-sm-6> <label class="control-label col-sm-4">分公司：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_filiale disabled=disabled> </div> </div> <div class=col-sm-6> <label class="control-label col-sm-4">操作日期：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_date disabled=disabled> </div> </div> </div> <div class="form-group col-sm-12"> <div class=col-sm-6> <label class="control-label col-sm-4">部门：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_department disabled=disabled> </div> </div> <div class=col-sm-6> <label class="control-label col-sm-4">操作人：</label> <div class=col-sm-8> <input class=form-control type=text v-model=model.f_operator disabled=disabled> </div> </div> </div> </form> </validator> <div class="from-group col-sm-12"> <center> <button type=button @click=confirm() class="btn btn-primary" style="width:80px; margin-left:50px" :disabled=$v.invalid> 保存 </button> <button type=button @click=reset() class="btn btn-warning" style="width:80px; margin-left:50px"> 返回 </button> </center> </div> </div> '},923:function(e,t,r){var a,n,o={};a=r(372),n=r(747),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(l.template=n),l.computed||(l.computed={}),Object.keys(o).forEach(function(e){var t=o[e];l.computed[e]=function(){return t}})}});
//# sourceMappingURL=49.js.map