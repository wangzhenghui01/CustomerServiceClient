{"version":3,"sources":["webpack:///98.js","webpack:///AppBatchItem.vue","webpack:///./src/components/app_apply/AppBatchItem.vue?1c2b","webpack:///./src/components/app_apply/AppBatchItem.vue"],"names":["webpackJsonp","353","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getIterator2","_getIterator3","_stringify","_stringify2","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_vueClient","insert","_ref","mark","_callee","self","param","http3","url","wrap","_context","prev","next","f_filiale","selectdata","f_apply_num","f_process_id","f_batch_name","addrow","f_unit","f_number","f_price","f_cash","f_type","type","f_state","console","log","HttpResetClass","$androidUtil","getProxyUrl","load","then","search","modifyshow","stop","this","_x","apply","arguments","deletecost","_ref2","_callee2","_context2","id","updaterow","$resetpost","_x2","update","_ref3","_callee3","_context3","updateshow","_x3","title","props","data","batchmodel","PagedList","orderitem","model","number","yusuan","numbergongliao","material","show","iscash","label","ready","methods","importemplate","_ref4","_callee4","materialTemplate","i","http","http2","_this","_context4","$appdata","getSingleValue","length","$set","condition","resolveMsg","rejectMsg","res","modifyConfirm","importbudget","_ref5","_callee5","temp","_this2","_context5","rows","push","getname","_this3","house","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","done","row","f_name","err","return","defname","condition1","getnumber","_this4","$dispatch","condition2","modify","modifyclose","_ref6","_callee6","_context6","$showAlert","abrupt","updateclose","updateConfirm","_ref7","_callee7","_context7","delete","_this5","$showMessage","computed","events","watch","val","addrow.f_batch_name[0]","_this6","updaterow.f_batch_name[0]","_this7","799","985","__vue_script__","__vue_template__","__vue_styles__","__vue_options__","options","template","keys","forEach","key"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GAEhC,YAwBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAtBvFG,OAAOC,eAAeP,EAAS,cAC7BQ,OAAO,GAGT,IAAIC,GAAgBR,EAAoB,IAEpCS,EAAgBR,EAAuBO,GAEvCE,EAAaV,EAAoB,GAEjCW,EAAcV,EAAuBS,GAErCE,EAAeZ,EAAoB,GAEnCa,EAAgBZ,EAAuBW,GAEvCE,EAAqBd,EAAoB,GAEzCe,EAAqBd,EAAuBa,GAE5CE,EAAahB,EAAoB,GCsJtCiB,EAAA,cAAAC,IAAA,EAAAH,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAAC,GAAAC,GAAA,GAAAC,GAAAC,EAAAC,CAAA,OAAAX,GAAAT,QAAAqB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aACAN,IACAO,UAAAR,EAAAS,WAAAD,UACAE,YAAAV,EAAAS,WAAAC,YACAC,aAAAX,EAAAS,WAAAE,aACAC,aAAAZ,EAAAa,OAAAD,aAAA,GACAE,OAAAd,EAAAa,OAAAC,OACAC,SAAAf,EAAAa,OAAAE,SACAC,QAAAhB,EAAAa,OAAAG,QACAC,OAAAjB,EAAAa,OAAAE,SAAAf,EAAAa,OAAAG,QACAE,OAAAlB,EAAAmB,KACAC,QAAA,KAEAC,QAAAC,IAAA,QAAArB,GACAC,EAAA,GAAAP,GAAA4B,eACApB,EAAAH,EAAAwB,aAAAC,cAAA,0BAfApB,EAAAE,KAAA,EAgBAL,EAAAwB,KAAA,OAAAvB,EAAAF,GAAA0B,KAAA,WAEAN,QAAAC,IAAA,SACAtB,EAAAa,OAAAD,gBACAZ,EAAAa,OAAAC,OAAA,GACAd,EAAAa,OAAAE,SAAA,GACAf,EAAAa,OAAAG,QAAA,GACAhB,EAAA4B,UAvBA,QAyBA5B,EAAA4B,SACA5B,EAAA6B,YAAA,CA1BA,wBAAAxB,GAAAyB,SAAA/B,EAAAgC,QAAA,iBAAAC,GAAA,MAAAnC,GAAAoC,MAAAF,KAAAG,eA4BAC,EAAA,cAAAC,IAAA,EAAA1C,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAAuC,GAAArC,GAAA,GAAAC,EAAA,OAAAT,GAAAT,QAAAqB,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,OACAN,GACAsC,GAAAvC,EAAAwC,UAAAD,GACAnB,QAAA,KAEAC,QAAAC,IAAA,QAAArB,GACAD,EAAAyC,WAAAzC,EAAAwB,aAAAC,cAAA,0BAAAxB,GAAA0B,KAAA,WAGAN,QAAAC,IAAA,SACAtB,EAAA4B,WAEA5B,EAAA4B,SACA5B,EAAA6B,YAAA,CAbA,wBAAAS,GAAAR,SAAAO,EAAAN,QAAA,iBAAAW,GAAA,MAAAN,GAAAH,MAAAF,KAAAG,eAeAS,EAAA,cAAAC,IAAA,EAAAlD,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAA+C,GAAA7C,GAAA,GAAAC,EAAA,OAAAT,GAAAT,QAAAqB,KAAA,SAAA0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,OACAN,GACAsC,GAAAvC,EAAAwC,UAAAD,GACA3B,aAAAZ,EAAAwC,UAAA5B,aACAE,OAAAd,EAAAwC,UAAA1B,OACAC,SAAAf,EAAAwC,UAAAzB,SACAC,QAAAhB,EAAAwC,UAAAxB,QACAC,OAAAjB,EAAAwC,UAAAzB,SAAAf,EAAAwC,UAAAxB,SAEAK,QAAAC,IAAA,QAAArB,GAEAD,EAAAyC,WAAAzC,EAAAwB,aAAAC,cAAA,0BAAAxB,GAAA0B,KAAA,WAEAN,QAAAC,IAAA,SACAtB,EAAAwC,UAAA,KACAxC,EAAA4B,WAEA5B,EAAA4B,SACA5B,EAAA+C,YAAA,CAlBA,wBAAAD,GAAAhB,SAAAe,EAAAd,QAAA,iBAAAiB,GAAA,MAAAJ,GAAAX,MAAAF,KAAAG,cDtECxD,GAAQK,SC2FTkE,MAAA,OACAC,OAAA,qBACAC,KAHA,WAIA,OACAC,WAAA,GAAAzD,GAAA0D,UAAAtB,KAAAP,aAAAC,cAAA,0BAAA6B,UAAA,SACAC,MAAA,GAAA5D,GAAA0D,UAAAtB,KAAAP,aAAAC,cAAA,0BAAA6B,UAAA,SACAE,OAAA,EACAC,OAAA,EACAC,eAAA,EACA7B,YAAA,EACAkB,YAAA,EACAP,UAAA,KACA3B,OAAA,KACA8C,YACAxC,KAAA,KACAyC,MAAA,EACAC,SACAC,MAAA,IAAA5E,MAAA,MACA4E,MAAA,IAAA5E,MAAA,QAIA6E,MAvBA,WAwBAhC,KAAAH,UAEAoC,SACAC,cADA,mBAAAA,KAAA,MAAAC,GAAAjC,MAAAF,KAAAG,WAAA,GAAAgC,IAAA,EAAAxE,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAAqE,KAAA,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,EAAAzC,IAAA,OAAAvC,GAAAT,QAAAqB,KAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,OAGA6D,KAEAA,EADArC,KAAA2C,SAAAC,eAAA,WACA,EAAArF,EAAAP,SAAAgD,KAAA2C,SAAAC,eAAA,aAEA,kFAEAN,EAAA,CATA,aASAA,EAAAD,EAAAQ,QATA,CAAAH,EAAAlE,KAAA,eAUAwB,MAAAlB,OAAAD,aAAAwD,EAAAC,GACAtC,KAAA8C,KAAA,yBAAAT,EAAAC,IAEAtC,KAAAlB,OAAAE,SAAA,EAEAuD,EAAA,GAAA3E,GAAA4B,eAfAkD,EAAAlE,KAAA,GAgBA+D,EAAA5C,KAAA,OAAAK,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,aAAA/C,KAAAlB,OAAAD,aAAA,mCACAmE,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,GACAT,EAAA3D,OAAAG,QAAAiE,EAAA9B,KAAAQ,SAAA,GAAA3C,QACAwD,EAAA3D,OAAAC,OAAAmE,EAAA9B,KAAAQ,SAAA,GAAA7C,QAtBA,eAwBAyD,GAAA,GAAA5E,GAAA4B,eAxBAkD,EAAAlE,KAAA,GAyBAgE,EAAA7C,KAAA,OAAAK,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,aAAA/C,KAAAS,UAAA5B,aAAA,mCACAmE,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,GACAT,EAAAhC,UAAAxB,QAAAiE,EAAA9B,KAAAQ,SAAA,GAAA3C,QACAwD,EAAAhC,UAAA1B,OAAAmE,EAAA9B,KAAAQ,SAAA,GAAA7C,QA/BA,eAAA2D,GAAAlE,KAAA,GAiCAwB,KAAAmD,eAjCA,SASAb,IATAI,EAAAlE,KAAA,gBAmCAwB,KAAAH,QAnCA,yBAAA6C,GAAA3C,SAAAqC,EAAApC,QAAA,OAAAkC,MAqCAkB,aArCA,mBAAAA,KAAA,MAAAC,GAAAnD,MAAAF,KAAAG,WAAA,GAAAkD,IAAA,EAAA1F,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAAuF,KAAA,GAAAjB,GAAAC,EAAAiB,EAAAhB,EAAAC,EAAAgB,EAAAxD,IAAA,OAAAvC,GAAAT,QAAAqB,KAAA,SAAAoF,GAAA,cAAAA,EAAAlF,KAAAkF,EAAAjF,MAAA,OAsCA6D,EAAArC,KAAAqB,WAAAqC,KACApB,EAAA,CAvCA,aAuCAA,EAAAD,EAAAQ,QAvCA,CAAAY,EAAAjF,KAAA,eAwCA+E,MACAA,EAAAI,KAAAtB,EAAAC,GAAAzD,cACAmB,KAAAlB,OAAAD,aAAA0E,EACAvD,KAAA8C,KAAA,yBAAAS,GAEAvD,KAAAlB,OAAAE,SAAAqD,EAAAC,GAAAtD,SAEAuD,EAAA,GAAA3E,GAAA4B,eA/CAiE,EAAAjF,KAAA,GAgDA+D,EAAA5C,KAAA,OAAAK,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,aAAA/C,KAAAlB,OAAAD,aAAA,mCACAmE,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,GACAM,EAAA1E,OAAAG,QAAAiE,EAAA9B,KAAAQ,SAAA,GAAA3C,QACAuE,EAAA1E,OAAAC,OAAAmE,EAAA9B,KAAAQ,SAAA,GAAA7C,QAtDA,eAwDAyD,GAAA,GAAA5E,GAAA4B,eAxDAiE,EAAAjF,KAAA,GAyDAgE,EAAA7C,KAAA,OAAAK,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,aAAA/C,KAAAS,UAAA5B,aAAA,mCACAmE,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,GACAM,EAAA/C,UAAAxB,QAAAiE,EAAA9B,KAAAQ,SAAA,GAAA3C,QACAuE,EAAA/C,UAAA1B,OAAAmE,EAAA9B,KAAAQ,SAAA,GAAA7C,QA/DA,eAAA0E,GAAAjF,KAAA,GAiEAwB,KAAAmD,eAjEA,SAuCAb,IAvCAmB,EAAAjF,KAAA,gBAmEAwB,KAAAH,QAnEA,yBAAA4D,GAAA1D,SAAAuD,EAAAtD,QAAA,OAAAoD,MAqEAQ,QArEA,WAqEA,GAAAC,GAAA7D,IACAA,MAAAU,WAAAV,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,kCACAC,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,EACA,IAAAY,MAFAC,GAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAGA,OAAAC,GAAAC,GAAA,EAAA/G,EAAAL,SAAAkG,EAAA9B,KAAAQ,YAAAmC,GAAAI,EAAAC,EAAA5F,QAAA6F,MAAAN,GAAA,MAAAO,GAAAH,EAAAhH,KACA2G,GAAAH,MAAA5B,MAAAuC,EAAAC,OAAApH,MAAAmH,EAAAC,UAJA,MAAAC,GAAAR,GAAA,EAAAC,EAAAO,EAAA,aAAAT,GAAAK,EAAAK,QAAAL,EAAAK,SAAA,WAAAT,EAAA,KAAAC,IAMAJ,EAAAjC,SAAAkC,KAGAjE,OAlFA,WAmFAG,KAAA6B,MAAA,EAEAvC,QAAAC,IAAA,QACA,iBAAAS,KAAAtB,WAAAgG,SAAA,gBAAA1E,KAAAtB,WAAAgG,SAAA,eAAA1E,KAAAtB,WAAAgG,SACA,UAAA1E,KAAAtB,WAAAgG,SAAA,UAAA1E,KAAAtB,WAAAgG,UACApF,QAAAC,IAAA,MACAS,KAAAZ,KAAA,MAEA,QAAAY,KAAAtB,WAAAgG,SAAA,QAAA1E,KAAAtB,WAAAgG,SAAA,QAAA1E,KAAAtB,WAAAgG,SAAA,SAAA1E,KAAAtB,WAAAgG,SAAA,QAAA1E,KAAAtB,WAAAgG,SAAA,MAAA1E,KAAAtB,WAAAgG,UACApF,QAAAC,IAAA,MACAS,KAAAZ,KAAA,MAEA,UAAAY,KAAAtB,WAAAgG,SAAA,UAAA1E,KAAAtB,WAAAgG,SAAA,QAAA1E,KAAAtB,WAAAgG,UACApF,QAAAC,IAAA,QACAS,KAAA6B,MAAA,EAGA,IAAAkB,GAAA,oBAAA/C,KAAAtB,WAAAC,YAAA,iBAAAqB,KAAAZ,KAAA,IACAuF,EAAA,oBAAA3E,KAAAtB,WAAAC,YAAA,mBACAqB,MAAAwB,MAAA3B,OAAAkD,GACA/C,KAAAqB,WAAAxB,OAAA8E,GACA3E,KAAA4E,aAGAA,UA3GA,WA2GA,GAAAC,GAAA7E,KAEAuC,EAAA,GAAA3E,GAAA4B,eACAuD,EAAA,oBAAA/C,KAAAtB,WAAAC,YAAA,+CACA4D,GAAA5C,KAAA,OAAAK,KAAAP,aAAAC,cAAA,yBACA0B,MACA2B,YACAxB,UAAA,kBAEAyB,WAAA,KAAAC,UAAA,OAAArD,KAAA,SAAAsD,GACAA,EAAA9B,KAAA,GAAAnC,QACA4F,EAAApD,OAAAyB,EAAA9B,KAAA,GAAAnC,QAEA4F,EAAApD,OAAA,EAEAnC,QAAAC,IAAA,eACAsF,EAAAC,UAAA,YAAAD,EAAApD,OAAA,OAGA,IAAAsD,GAAA,oBAAA/E,KAAAtB,WAAAC,YAAA,gDACA6D,EAAA,GAAA5E,GAAA4B,cACAgD,GAAA7C,KAAA,OAAAK,KAAAP,aAAAC,cAAA,yBACA0B,MACA2B,UAAAgC,EACAxD,UAAA,kBAEAyB,WAAA,KAAAC,UAAA,OAAArD,KAAA,SAAAsD,GACAA,EAAA9B,KAAA,GAAAnC,QACA4F,EAAAnD,OAAAwB,EAAA9B,KAAA,GAAAnC,QAEA4F,EAAAnD,OAAA,EAEApC,QAAAC,IAAA,eACAsF,EAAAC,UAAA,YAAAD,EAAAnD,OAAA,SAGAsD,OA/IA,WAgJAhF,KAAA4D,UACA5D,KAAAF,YAAA,GAEAmF,YAnJA,WAoJAjF,KAAAF,YAAA,EACAE,KAAAlB,OAAAD,gBACAmB,KAAAlB,OAAAC,OAAA,GACAiB,KAAAlB,OAAAE,SAAA,GACAgB,KAAAlB,OAAAG,QAAA,IAEAkE,cA1JA,mBAAAA,KAAA,MAAA+B,GAAAhF,MAAAF,KAAAG,WAAA,GAAA+E,IAAA,EAAAvH,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAAoH,KAAA,MAAA1H,GAAAT,QAAAqB,KAAA,SAAA+G,GAAA,cAAAA,EAAA7G,KAAA6G,EAAA5G,MAAA,UA2JAwB,KAAAlB,OAAAD,aA3JA,CAAAuG,EAAA5G,KAAA,cA4JAwB,MAAAqF,WAAA,0BA5JAD,EAAAE,OAAA,oBA+JAtF,KAAAlB,OAAAE,SA/JA,CAAAoG,EAAA5G,KAAA,cAgKAwB,MAAAqF,WAAA,wBAhKAD,EAAAE,OAAA,uBAAAF,GAAA5G,KAAA,EAmKAX,EAAAmC,KAnKA,wBAAAoF,GAAArF,SAAAoF,EAAAnF,QAAA,OAAAmD,MAqKAvC,OArKA,SAqKA0D,GACAtE,KAAAS,UAAA6D,EACAtE,KAAAgB,YAAA,GAEAuE,YAzKA,WA0KAvF,KAAAH,SACAG,KAAAS,UAAA,KACAT,KAAAgB,YAAA,GAEAwE,cA9KA,mBAAAA,KAAA,MAAAC,GAAAvF,MAAAF,KAAAG,WAAA,GAAAsF,IAAA,EAAA9H,EAAAX,SAAAS,EAAAT,QAAAe,KAAA,QAAA2H,KAAA,MAAAjI,GAAAT,QAAAqB,KAAA,SAAAsH,GAAA,cAAAA,EAAApH,KAAAoH,EAAAnH,MAAA,UA+KAwB,KAAAS,UAAA5B,aA/KA,CAAA8G,EAAAnH,KAAA,cAgLAwB,MAAAqF,WAAA,0BAhLAM,EAAAL,OAAA,oBAmLAtF,KAAAS,UAAAzB,SAnLA,CAAA2G,EAAAnH,KAAA,cAoLAwB,MAAAqF,WAAA,wBApLAM,EAAAL,OAAA,uBAAAK,GAAAnH,KAAA,EAuLAoC,EAAAZ,KAvLA,wBAAA2F,GAAA5F,SAAA2F,EAAA1F,QAAA,OAAAwF,MA8LAI,OA9LA,SA8LAtB,GAAA,GAAAuB,GAAA7F,IACAA,MAAAS,UAAA6D,EACAtE,KAAA8F,aAAA,mCAAAlG,KAAA,SAAAsD,GACA,YAAAA,GACA9C,EAAAyF,OAMAE,YACAC,UACAC,OACAxE,OADA,SACAyE,GACAlG,KAAA8E,UAAA,YAAAoB,EAAA,OAEAxE,OAJA,SAIAwE,GACAlG,KAAA8E,UAAA,YAAAoB,EAAA,OAEAxH,WAPA,WAQAsB,KAAAH,UAEAsG,yBAVA,SAUAD,GAAA,GAAAE,GAAApG,IACAA,MAAAU,WAAAV,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,aAAAmD,EAAA,gCACAlD,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,GACAkD,EAAAtH,OAAAG,QAAAiE,EAAA9B,KAAAQ,SAAA,GAAA3C,QACAmH,EAAAtH,OAAAC,OAAAmE,EAAA9B,KAAAQ,SAAA,GAAA7C,UAGAsH,4BApBA,SAoBAH,GAAA,GAAAI,GAAAtG,IACAA,MAAAU,WAAAV,KAAAP,aAAAC,cAAA,6BAAA0B,MAAA2B,UAAA,aAAAmD,EAAA,gCACAlD,WAAA,KACAC,UAAA,OACArD,KAAA,SAAAsD,GACA5D,QAAAC,IAAA,SAAA2D,GACAoD,EAAA7F,UAAAxB,QAAAiE,EAAA9B,KAAAQ,SAAA,GAAA3C,QACAqH,EAAA7F,UAAA1B,OAAAmE,EAAA9B,KAAAQ,SAAA,GAAA7C,aDkFMwH,IACA,SAAU7J,EAAQC,GElkBxBD,EAAAC,QAAA,8yNFwkBM6J,IACA,SAAU9J,EAAQC,EAASC,GGzkBjC,GAAA6J,GAAAC,EACAC,IACAF,GAAA7J,EAAA,KACA8J,EAAA9J,EAAA,KACAF,EAAAC,QAAA8J,MACA/J,EAAAC,QAAAI,aAAAL,EAAAC,QAAAD,EAAAC,QAAAK,QACA,IAAA4J,GAAA,kBAAAlK,GAAAC,QAAAD,EAAAC,QAAAkK,UAAAnK,EAAAC,QAAAkK,YAAoHnK,EAAAC,OACpH+J,KACAE,EAAAE,SAAAJ,GAEAE,EAAAb,WAAAa,EAAAb,aACA9I,OAAA8J,KAAAJ,GAAAK,QAAA,SAAAC,GACA,GAAAvK,GAAAiK,EAAAM,EACAL,GAAAb,SAAAkB,GAAA,WAA6C,MAAAvK","file":"98.js","sourcesContent":["webpackJsonp([98],{\n\n/***/ 353:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getIterator2 = __webpack_require__(13);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _stringify = __webpack_require__(5);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _regenerator = __webpack_require__(2);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _asyncToGenerator2 = __webpack_require__(4);\n\t\n\tvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\t\n\tvar _vueClient = __webpack_require__(3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar insert = function () {\n\t  var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(self) {\n\t    var param, http3, url;\n\t    return _regenerator2.default.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            param = {\n\t              f_filiale: self.selectdata.f_filiale,\n\t              f_apply_num: self.selectdata.f_apply_num,\n\t              f_process_id: self.selectdata.f_process_id,\n\t              f_batch_name: self.addrow.f_batch_name[0],\n\t              f_unit: self.addrow.f_unit,\n\t              f_number: self.addrow.f_number,\n\t              f_price: self.addrow.f_price,\n\t              f_cash: self.addrow.f_number * self.addrow.f_price,\n\t              f_type: self.type,\n\t              f_state: '1'\n\t            };\n\t\n\t            console.log('新增成本项', param);\n\t            http3 = new _vueClient.HttpResetClass();\n\t            url = self.$androidUtil.getProxyUrl() + '/rs/entity/t_batch_item';\n\t            _context.next = 6;\n\t            return http3.load('POST', url, param).then(function () {\n\t              console.log('更新成功！');\n\t              self.addrow.f_batch_name = [];\n\t              self.addrow.f_unit = '';\n\t              self.addrow.f_number = '';\n\t              self.addrow.f_price = '';\n\t              self.search();\n\t            });\n\t\n\t          case 6:\n\t            self.search();\n\t            self.modifyshow = false;\n\t\n\t          case 8:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function insert(_x) {\n\t    return _ref.apply(this, arguments);\n\t  };\n\t}();\n\tvar deletecost = function () {\n\t  var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(self) {\n\t    var param;\n\t    return _regenerator2.default.wrap(function _callee2$(_context2) {\n\t      while (1) {\n\t        switch (_context2.prev = _context2.next) {\n\t          case 0:\n\t            param = {\n\t              id: self.updaterow.id,\n\t              f_state: '0'\n\t            };\n\t\n\t            console.log('移除成本项', param);\n\t            self.$resetpost(self.$androidUtil.getProxyUrl() + '/rs/entity/t_batch_item', param).then(function () {\n\t              console.log('更新成功！');\n\t              self.search();\n\t            });\n\t            self.search();\n\t            self.modifyshow = false;\n\t\n\t          case 5:\n\t          case 'end':\n\t            return _context2.stop();\n\t        }\n\t      }\n\t    }, _callee2, this);\n\t  }));\n\t\n\t  return function deletecost(_x2) {\n\t    return _ref2.apply(this, arguments);\n\t  };\n\t}();\n\tvar update = function () {\n\t  var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(self) {\n\t    var param;\n\t    return _regenerator2.default.wrap(function _callee3$(_context3) {\n\t      while (1) {\n\t        switch (_context3.prev = _context3.next) {\n\t          case 0:\n\t            param = {\n\t              id: self.updaterow.id,\n\t              f_batch_name: self.updaterow.f_batch_name,\n\t              f_unit: self.updaterow.f_unit,\n\t              f_number: self.updaterow.f_number,\n\t              f_price: self.updaterow.f_price,\n\t              f_cash: self.updaterow.f_number * self.updaterow.f_price\n\t            };\n\t\n\t            console.log('修改成本项', param);\n\t\n\t            self.$resetpost(self.$androidUtil.getProxyUrl() + '/rs/entity/t_batch_item', param).then(function () {\n\t              console.log('更新成功！');\n\t              self.updaterow = null;\n\t              self.search();\n\t            });\n\t            self.search();\n\t            self.updateshow = false;\n\t\n\t          case 5:\n\t          case 'end':\n\t            return _context3.stop();\n\t        }\n\t      }\n\t    }, _callee3, this);\n\t  }));\n\t\n\t  return function update(_x3) {\n\t    return _ref3.apply(this, arguments);\n\t  };\n\t}();\n\texports.default = {\n\t  title: '预算项目',\n\t  props: ['selectdata', 'edit'],\n\t  data: function data() {\n\t    return {\n\t      batchmodel: new _vueClient.PagedList(this.$androidUtil.getProxyUrl() + '/rs/sql/getBatchItem', 8, { orderitem: '`id`' }),\n\t      model: new _vueClient.PagedList(this.$androidUtil.getProxyUrl() + '/rs/sql/getBatchItem', 8, { orderitem: '`id`' }),\n\t      number: 0,\n\t      yusuan: 0,\n\t      numbergongliao: 0,\n\t      modifyshow: false,\n\t      updateshow: false,\n\t      updaterow: null,\n\t      addrow: null,\n\t      material: [],\n\t      type: null,\n\t      show: false,\n\t      iscash: [{ label: '是', value: '是' }, { label: '否', value: '否' }]\n\t    };\n\t  },\n\t  ready: function ready() {\n\t    this.search();\n\t  },\n\t\n\t  methods: {\n\t    importemplate: function () {\n\t      var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4() {\n\t        var _this = this;\n\t\n\t        var materialTemplate, i, http, http2;\n\t        return _regenerator2.default.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                materialTemplate = [];\n\t\n\t                if (this.$appdata.getSingleValue(\"材料导入模板\")) {\n\t                  materialTemplate = (0, _stringify2.default)(this.$appdata.getSingleValue(\"材料导入模板\"));\n\t                } else {\n\t                  materialTemplate = [[\"燃气表\"], [\"表接头\"], [\"DN15镀锌管\"], [\"DN15弯头*90\"], [\"DN15外丝直连\"], [\"DN15三通\"], [\"铜球阀\"], [\"单嘴阀\"]];\n\t                }\n\t                i = 0;\n\t\n\t              case 3:\n\t                if (!(i < materialTemplate.length)) {\n\t                  _context4.next = 18;\n\t                  break;\n\t                }\n\t\n\t                this.addrow.f_batch_name = materialTemplate[i];\n\t                this.$set('updaterow.f_batch_name', materialTemplate[i]);\n\t\n\t                this.addrow.f_number = 1;\n\t                http = new _vueClient.HttpResetClass();\n\t                _context4.next = 10;\n\t                return http.load('POST', this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: 'f_name = \\'' + this.addrow.f_batch_name[0] + '\\' and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t                  resolveMsg: null,\n\t                  rejectMsg: null\n\t                }).then(function (res) {\n\t                  console.log('查询到的选项', res);\n\t                  _this.addrow.f_price = res.data.material[0].f_price;\n\t                  _this.addrow.f_unit = res.data.material[0].f_unit;\n\t                });\n\t\n\t              case 10:\n\t                http2 = new _vueClient.HttpResetClass();\n\t                _context4.next = 13;\n\t                return http2.load('POST', this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: 'f_name = \\'' + this.updaterow.f_batch_name[0] + '\\' and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t                  resolveMsg: null,\n\t                  rejectMsg: null\n\t                }).then(function (res) {\n\t                  console.log('查询到的选项', res);\n\t                  _this.updaterow.f_price = res.data.material[0].f_price;\n\t                  _this.updaterow.f_unit = res.data.material[0].f_unit;\n\t                });\n\t\n\t              case 13:\n\t                _context4.next = 15;\n\t                return this.modifyConfirm();\n\t\n\t              case 15:\n\t                i++;\n\t                _context4.next = 3;\n\t                break;\n\t\n\t              case 18:\n\t                this.search();\n\t\n\t              case 19:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this);\n\t      }));\n\t\n\t      function importemplate() {\n\t        return _ref4.apply(this, arguments);\n\t      }\n\t\n\t      return importemplate;\n\t    }(),\n\t    importbudget: function () {\n\t      var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5() {\n\t        var _this2 = this;\n\t\n\t        var materialTemplate, i, temp, http, http2;\n\t        return _regenerator2.default.wrap(function _callee5$(_context5) {\n\t          while (1) {\n\t            switch (_context5.prev = _context5.next) {\n\t              case 0:\n\t                materialTemplate = this.batchmodel.rows;\n\t                i = 0;\n\t\n\t              case 2:\n\t                if (!(i < materialTemplate.length)) {\n\t                  _context5.next = 19;\n\t                  break;\n\t                }\n\t\n\t                temp = [];\n\t\n\t                temp.push(materialTemplate[i].f_batch_name);\n\t                this.addrow.f_batch_name = temp;\n\t                this.$set('updaterow.f_batch_name', temp);\n\t\n\t                this.addrow.f_number = materialTemplate[i].f_number;\n\t                http = new _vueClient.HttpResetClass();\n\t                _context5.next = 11;\n\t                return http.load('POST', this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: 'f_name = \\'' + this.addrow.f_batch_name[0] + '\\' and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t                  resolveMsg: null,\n\t                  rejectMsg: null\n\t                }).then(function (res) {\n\t                  console.log('查询到的选项', res);\n\t                  _this2.addrow.f_price = res.data.material[0].f_price;\n\t                  _this2.addrow.f_unit = res.data.material[0].f_unit;\n\t                });\n\t\n\t              case 11:\n\t                http2 = new _vueClient.HttpResetClass();\n\t                _context5.next = 14;\n\t                return http2.load('POST', this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: 'f_name = \\'' + this.updaterow.f_batch_name[0] + '\\' and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t                  resolveMsg: null,\n\t                  rejectMsg: null\n\t                }).then(function (res) {\n\t                  console.log('查询到的选项', res);\n\t                  _this2.updaterow.f_price = res.data.material[0].f_price;\n\t                  _this2.updaterow.f_unit = res.data.material[0].f_unit;\n\t                });\n\t\n\t              case 14:\n\t                _context5.next = 16;\n\t                return this.modifyConfirm();\n\t\n\t              case 16:\n\t                i++;\n\t                _context5.next = 2;\n\t                break;\n\t\n\t              case 19:\n\t                this.search();\n\t\n\t              case 20:\n\t              case 'end':\n\t                return _context5.stop();\n\t            }\n\t          }\n\t        }, _callee5, this);\n\t      }));\n\t\n\t      function importbudget() {\n\t        return _ref5.apply(this, arguments);\n\t      }\n\t\n\t      return importbudget;\n\t    }(),\n\t    getname: function getname() {\n\t      var _this3 = this;\n\t\n\t      this.$resetpost(this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: '1=1 and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t        resolveMsg: null,\n\t        rejectMsg: null\n\t      }).then(function (res) {\n\t        console.log('查询到的选项', res);\n\t        var house = [];\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = (0, _getIterator3.default)(res.data.material), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var row = _step.value;\n\t\n\t            house.push({ label: row.f_name, value: row.f_name });\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t\n\t        _this3.material = house;\n\t      });\n\t    },\n\t    search: function search() {\n\t      this.show = false;\n\t\n\t      console.log('执行查询');\n\t      if (this.selectdata.defname == '工商预算审核(技术科科长)' || this.selectdata.defname == '工商预算审核(分管副总)' || this.selectdata.defname == '工商预算审核(总经理)' || this.selectdata.defname == '工商现场勘查' || this.selectdata.defname == '民用现场勘查') {\n\t        console.log('预算');\n\t        this.type = '预算';\n\t      }\n\t      if (this.selectdata.defname == '户内安装' || this.selectdata.defname == '安装审核' || this.selectdata.defname == '点火申请' || this.selectdata.defname == '收费材料费' || this.selectdata.defname == '工程验收' || this.selectdata.defname == '点火') {\n\t        console.log('结算');\n\t        this.type = '结算';\n\t      }\n\t      if (this.selectdata.defname == '工商现场勘查' || this.selectdata.defname == '民用现场勘查' || this.selectdata.defname == '户内安装') {\n\t        console.log('显示按钮');\n\t        this.show = true;\n\t      }\n\t\n\t      var condition = ' f_apply_num  = \\'' + this.selectdata.f_apply_num + '\\' and f_type=\\'' + this.type + '\\'';\n\t      var condition1 = ' f_apply_num  = \\'' + this.selectdata.f_apply_num + '\\' and f_type=\\'\\u9884\\u7B97\\'';\n\t      this.model.search(condition);\n\t      this.batchmodel.search(condition1);\n\t      this.getnumber();\n\t    },\n\t    getnumber: function getnumber() {\n\t      var _this4 = this;\n\t\n\t      var http = new _vueClient.HttpResetClass();\n\t      var condition = ' f_apply_num  = \\'' + this.selectdata.f_apply_num + '\\' and f_batch_name like \\'%\\u8D85%\\' and f_type=\\'\\u7ED3\\u7B97\\'';\n\t      http.load('POST', this.$androidUtil.getProxyUrl() + '/rs/sql/getBatchPrice', {\n\t        data: {\n\t          condition: condition,\n\t          orderitem: 'f_price desc'\n\t        }\n\t      }, { resolveMsg: null, rejectMsg: null }).then(function (res) {\n\t        if (res.data[0].f_price) {\n\t          _this4.number = res.data[0].f_price;\n\t        } else {\n\t          _this4.number = 0;\n\t        }\n\t        console.log('11111111111');\n\t        _this4.$dispatch('get-price', _this4.number, '结算');\n\t      });\n\t\n\t      var condition2 = ' f_apply_num  = \\'' + this.selectdata.f_apply_num + '\\' and f_batch_name like \\'%\\u8D85%\\' and f_type=\\'\\u9884\\u7B97\\'';\n\t      var http2 = new _vueClient.HttpResetClass();\n\t      http2.load('POST', this.$androidUtil.getProxyUrl() + '/rs/sql/getBatchPrice', {\n\t        data: {\n\t          condition: condition2,\n\t          orderitem: 'f_price desc'\n\t        }\n\t      }, { resolveMsg: null, rejectMsg: null }).then(function (res) {\n\t        if (res.data[0].f_price) {\n\t          _this4.yusuan = res.data[0].f_price;\n\t        } else {\n\t          _this4.yusuan = 0;\n\t        }\n\t        console.log('11111111111');\n\t        _this4.$dispatch('get-price', _this4.yusuan, '预算');\n\t      });\n\t    },\n\t    modify: function modify() {\n\t      this.getname();\n\t      this.modifyshow = true;\n\t    },\n\t    modifyclose: function modifyclose() {\n\t      this.modifyshow = false;\n\t      this.addrow.f_batch_name = [];\n\t      this.addrow.f_unit = '';\n\t      this.addrow.f_number = '';\n\t      this.addrow.f_price = '';\n\t    },\n\t    modifyConfirm: function () {\n\t      var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6() {\n\t        return _regenerator2.default.wrap(function _callee6$(_context6) {\n\t          while (1) {\n\t            switch (_context6.prev = _context6.next) {\n\t              case 0:\n\t                if (this.addrow.f_batch_name) {\n\t                  _context6.next = 3;\n\t                  break;\n\t                }\n\t\n\t                this.$showAlert(\"请输入预算项目\", \"warning\", 1500);\n\t                return _context6.abrupt('return');\n\t\n\t              case 3:\n\t                if (this.addrow.f_number) {\n\t                  _context6.next = 6;\n\t                  break;\n\t                }\n\t\n\t                this.$showAlert(\"请输入数量\", \"warning\", 1500);\n\t                return _context6.abrupt('return');\n\t\n\t              case 6:\n\t                _context6.next = 8;\n\t                return insert(this);\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context6.stop();\n\t            }\n\t          }\n\t        }, _callee6, this);\n\t      }));\n\t\n\t      function modifyConfirm() {\n\t        return _ref6.apply(this, arguments);\n\t      }\n\t\n\t      return modifyConfirm;\n\t    }(),\n\t    update: function update(row) {\n\t      this.updaterow = row;\n\t      this.updateshow = true;\n\t    },\n\t    updateclose: function updateclose() {\n\t      this.search();\n\t      this.updaterow = null;\n\t      this.updateshow = false;\n\t    },\n\t    updateConfirm: function () {\n\t      var _ref7 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7() {\n\t        return _regenerator2.default.wrap(function _callee7$(_context7) {\n\t          while (1) {\n\t            switch (_context7.prev = _context7.next) {\n\t              case 0:\n\t                if (this.updaterow.f_batch_name) {\n\t                  _context7.next = 3;\n\t                  break;\n\t                }\n\t\n\t                this.$showAlert(\"请输入预算项目\", \"warning\", 1500);\n\t                return _context7.abrupt('return');\n\t\n\t              case 3:\n\t                if (this.updaterow.f_number) {\n\t                  _context7.next = 6;\n\t                  break;\n\t                }\n\t\n\t                this.$showAlert(\"请输入数量\", \"warning\", 1500);\n\t                return _context7.abrupt('return');\n\t\n\t              case 6:\n\t                _context7.next = 8;\n\t                return update(this);\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context7.stop();\n\t            }\n\t          }\n\t        }, _callee7, this);\n\t      }));\n\t\n\t      function updateConfirm() {\n\t        return _ref7.apply(this, arguments);\n\t      }\n\t\n\t      return updateConfirm;\n\t    }(),\n\t    delete: function _delete(row) {\n\t      var _this5 = this;\n\t\n\t      this.updaterow = row;\n\t      this.$showMessage('\\u662F\\u5426\\u786E\\u8BA4\\u5220\\u9664\\u6B64\\u9884\\u7B97\\u9879', ['confirm', 'cancel']).then(function (res) {\n\t        if (res === 'confirm') {\n\t          deletecost(_this5);\n\t        }\n\t      });\n\t    }\n\t  },\n\t  computed: {},\n\t  events: {},\n\t  watch: {\n\t    'number': function number(val) {\n\t      this.$dispatch('get-price', val, '结算');\n\t    },\n\t    'yusuan': function yusuan(val) {\n\t      this.$dispatch('get-price', val, '预算');\n\t    },\n\t    'selectdata': function selectdata() {\n\t      this.search();\n\t    },\n\t    'addrow.f_batch_name[0]': function addrowF_batch_name0(val) {\n\t      var _this6 = this;\n\t\n\t      this.$resetpost(this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: 'f_name = \\'' + val + '\\' and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t        resolveMsg: null,\n\t        rejectMsg: null\n\t      }).then(function (res) {\n\t        console.log('查询到的选项', res);\n\t        _this6.addrow.f_price = res.data.material[0].f_price;\n\t        _this6.addrow.f_unit = res.data.material[0].f_unit;\n\t      });\n\t    },\n\t    'updaterow.f_batch_name[0]': function updaterowF_batch_name0(val) {\n\t      var _this7 = this;\n\t\n\t      this.$resetpost(this.$androidUtil.getProxyUrl() + '/rs/logic/getMaterialItem', { data: { condition: 'f_name = \\'' + val + '\\' and f_use_type=\\'\\u9884\\u7B97/\\u7ED3\\u7B97\\u9879\\u76EE\\'' } }, {\n\t        resolveMsg: null,\n\t        rejectMsg: null\n\t      }).then(function (res) {\n\t        console.log('查询到的选项', res);\n\t        _this7.updaterow.f_price = res.data.material[0].f_price;\n\t        _this7.updaterow.f_unit = res.data.material[0].f_unit;\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \" <div class=flex style=\\\"height: auto\\\"> <div style=\\\"height: auto\\\" class=flex v-if=\\\"selectdata.defname=='户内安装'||selectdata.defname=='安装审核'||selectdata.defname=='工程验收'\\\"> <p class=\\\"bg-info text-center\\\" style=\\\"padding: 8px;font-size: 20px\\\">预算项目表 </p> <div class=\\\"form-inline auto\\\" style=\\\"margin-bottom: 5px\\\"> <criteria-paged :model=batchmodel :pager=true v-ref:paged1> <data-grid :model=$parent.batchmodel v-ref:grid1 partial=list> <template partial=head> <tr> <th> <nobr>序号</nobr> </th> <th> <nobr>预算项目</nobr> </th> <th> <nobr>单位</nobr> </th> <th> <nobr>数量</nobr> </th> <th> <nobr>单价</nobr> </th> <th> <nobr>金额</nobr> </th> </tr> </template> <template partial=body> <td style=\\\"text-align: center\\\">{{$index + 1}}</td> <td style=\\\"text-align: center\\\">{{row.f_batch_name}}</td> <td style=\\\"text-align: center\\\">{{row.f_unit}}</td> <td style=\\\"text-align: center\\\">{{row.f_number}}</td> <td style=\\\"text-align: center\\\">{{row.f_price}}</td> <td style=\\\"text-align: center\\\">{{row.f_cash}}</td> </template> </data-grid> </criteria-paged> </div> </div> <div style=\\\"height: auto\\\" class=flex> <p class=\\\"bg-info text-center\\\" style=\\\"padding: 8px;font-size: 20px\\\" v-if=\\\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'\\\">预算项目表 </p> <p class=\\\"bg-info text-center\\\" style=\\\"padding: 8px;font-size: 20px\\\" v-if=\\\"selectdata.defname=='户内安装'||selectdata.defname=='安装审核'||selectdata.defname=='点火申请'||selectdata.defname=='点火'||selectdata.defname=='收费材料费'||selectdata.defname=='工程验收'\\\"> 结算项目表 </p> <div class=\\\"form-inline auto bg-info\\\" v-if=\\\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'||selectdata.defname=='户内安装'\\\" style=\\\"float: right\\\"> <div class=form-group style=\\\"float: right\\\" v-if=\\\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'\\\"> <button class=\\\"btn btn-success\\\" @click=importemplate()>导入模板</button> </div> <div class=form-group style=\\\"float: right\\\" v-if=\\\"selectdata.defname=='户内安装'\\\"> <button class=\\\"btn btn-success\\\" @click=importbudget()>从预算导入</button> </div> <div class=form-group style=\\\"float: right\\\"> <button class=\\\"btn btn-success\\\" @click=modify()>新增</button> </div> </div> <div class=\\\"form-inline auto\\\" style=\\\"margin-bottom: 5px\\\"> <criteria-paged :model=model :pager=true v-ref:paged> <data-grid :model=model v-ref:grid partial=list> <template partial=head> <tr> <th> <nobr>序号</nobr> </th> <th v-if=\\\"$parent.$parent.$parent.selectdata.defname=='工商预算审核(技术科科长)'||$parent.$parent.$parent.selectdata.defname=='工商预算审核(分管副总)'||$parent.$parent.$parent.selectdata.defname=='工商预算审核(总经理)'||\\n                  $parent.$parent.$parent.selectdata.defname=='工商现场勘查'||$parent.$parent.$parent.selectdata.defname=='民用现场勘查'\\\"> <nobr>预算项目</nobr> </th> <th v-if=\\\"$parent.$parent.$parent.selectdata.defname=='户内安装'||$parent.$parent.$parent.selectdata.defname=='安装审核'||$parent.$parent.$parent.selectdata.defname=='点火申请'||$parent.$parent.$parent.selectdata.defname=='收费材料费'||$parent.$parent.$parent.selectdata.defname=='工程验收'\\\"> <nobr>结算项目</nobr> </th> <th> <nobr>单位</nobr> </th> <th> <nobr>数量</nobr> </th> <th> <nobr>单价</nobr> </th> <th> <nobr>金额</nobr> </th> <th> <nobr>操作</nobr> </th> </tr> </template> <template partial=body> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{$index + 1}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_batch_name}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_unit}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_number}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_price}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_cash}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"> <div v-if=$parent.$parent.$parent.show :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"> <button type=button name=button class=\\\"btn btn-link\\\" @click=$parent.$parent.$parent.update(row)>修正 </button> <button type=button name=button class=\\\"btn btn-link\\\" @click=$parent.$parent.$parent.delete(row)>移除 </button> </div> </td> </template> </data-grid> </criteria-paged> </div> </div> <modal :show.sync=modifyshow backdrop=false> <header slot=modal-header class=modal-header> <h4 class=modal-title>新增项目</h4> </header> <article slot=modal-body class=modal-body> <form class=form-horizontal> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_batch_name class=control-label>项目名</label> <v-select :value.sync=addrow.f_batch_name v-model=updaterow.f_batch_name :options=material placeholder=请选择 style=\\\"width: 50%\\\" close-on-select> </v-select> </div> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_number class=control-label>数量</label> <input type=number class=form-control v-model=addrow.f_number placeholder=数量> </div> </form> </article> <footer slot=modal-footer class=modal-footer> <button type=button class=\\\"btn btn-success\\\" @click=modifyConfirm>确认</button> <button type=button class=\\\"btn btn-default\\\" @click=modifyclose>取消</button> </footer> </modal> <modal :show.sync=updateshow backdrop=false> <header slot=modal-header class=modal-header> <h4 class=modal-title>修改项目名</h4> </header> <article slot=modal-body class=modal-body> <form class=form-horizontal> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_batch_name class=control-label>项目名</label> <input type=text readonly=readonly class=form-control v-model=updaterow.f_batch_name placeholder=预算项目> </div> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_number class=control-label>数量</label> <input type=text class=form-control v-model=updaterow.f_number placeholder=数量> </div> </form> </article> <footer slot=modal-footer class=modal-footer> <button type=button class=\\\"btn btn-success\\\" @click=updateConfirm>确认</button> <button type=button class=\\\"btn btn-default\\\" @click=updateclose>取消</button> </footer> </modal> </div> \";\n\n/***/ }),\n\n/***/ 985:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(353)\n\t__vue_template__ = __webpack_require__(799)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 98.js","<template>\n  <div class=\"flex\" style=\"height: auto\">\n    <div style=\"height: auto\" class=\"flex\"\n         v-if=\"selectdata.defname=='户内安装'||selectdata.defname=='安装审核'||selectdata.defname=='工程验收'\">\n\n      <p class=\"bg-info text-center\" style=\"padding: 8px;font-size: 20px\">预算项目表\n      </p>\n      <div class=\"form-inline auto\" style=\"margin-bottom: 5px;\">\n        <criteria-paged :model=\"batchmodel\" :pager=\"true\" v-ref:paged1>\n          <data-grid :model=\"$parent.batchmodel\" v-ref:grid1 partial='list'>\n\n            <template partial='head'>\n              <tr>\n                <th>\n                  <nobr>序号</nobr>\n                </th>\n                <th>\n                  <nobr>预算项目</nobr>\n                </th>\n                <th>\n                  <nobr>单位</nobr>\n                </th>\n                <th>\n                  <nobr>数量</nobr>\n                </th>\n                <th>\n                  <nobr>单价</nobr>\n                </th>\n                <th>\n                  <nobr>金额</nobr>\n                </th>\n              </tr>\n            </template>\n            <template partial='body'>\n              <td style=\"text-align: center;\">{{$index + 1}}</td>\n              <td style=\"text-align: center;\">{{row.f_batch_name}}</td>\n              <td style=\"text-align: center;\">{{row.f_unit}}</td>\n              <td style=\"text-align: center;\">{{row.f_number}}</td>\n              <td style=\"text-align: center;\">{{row.f_price}}</td>\n              <td style=\"text-align: center;\">{{row.f_cash}}</td>\n\n            </template>\n          </data-grid>\n        </criteria-paged>\n      </div>\n    </div>\n    <div style=\"height: auto\" class=\"flex\">\n      <p class=\"bg-info text-center\" style=\"padding: 8px;font-size: 20px\" v-if=\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'\">预算项目表\n      </p>\n      <p class=\"bg-info text-center\" style=\"padding: 8px;font-size: 20px\"\n         v-if=\"selectdata.defname=='户内安装'||selectdata.defname=='安装审核'||selectdata.defname=='点火申请'||selectdata.defname=='点火'||selectdata.defname=='收费材料费'||selectdata.defname=='工程验收'\">\n        结算项目表\n      </p>\n      <div class=\"form-inline auto bg-info\"\n           v-if=\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'||selectdata.defname=='户内安装'\"\n           style=\"float: right\">\n        <div class=\"form-group\" style=\"float: right\" v-if=\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'\">\n          <button class=\"btn btn-success\" @click=\"importemplate()\">导入模板</button>\n        </div>\n        <div class=\"form-group\" style=\"float: right\"\n             v-if=\"selectdata.defname=='户内安装'\">\n          <button class=\"btn btn-success\" @click=\"importbudget()\">从预算导入</button>\n        </div>\n        <div class=\"form-group\" style=\"float: right\">\n          <button class=\"btn btn-success\" @click=\"modify()\">新增</button>\n        </div>\n      </div>\n      <div class=\"form-inline auto\" style=\"margin-bottom: 5px;\">\n        <criteria-paged :model=\"model\" :pager=\"true\" v-ref:paged>\n          <data-grid :model=\"model\" v-ref:grid partial='list'>\n            <template partial='head'>\n              <tr>\n                <th>\n                  <nobr>序号</nobr>\n                </th>\n                <th v-if=\"$parent.$parent.$parent.selectdata.defname=='工商预算审核(技术科科长)'||$parent.$parent.$parent.selectdata.defname=='工商预算审核(分管副总)'||$parent.$parent.$parent.selectdata.defname=='工商预算审核(总经理)'||\n                    $parent.$parent.$parent.selectdata.defname=='工商现场勘查'||$parent.$parent.$parent.selectdata.defname=='民用现场勘查'\">\n                  <nobr>预算项目</nobr>\n                </th>\n                <th\n                  v-if=\"$parent.$parent.$parent.selectdata.defname=='户内安装'||$parent.$parent.$parent.selectdata.defname=='安装审核'||$parent.$parent.$parent.selectdata.defname=='点火申请'||$parent.$parent.$parent.selectdata.defname=='收费材料费'||$parent.$parent.$parent.selectdata.defname=='工程验收'\">\n                  <nobr>结算项目</nobr>\n                </th>\n                <th>\n                  <nobr>单位</nobr>\n                </th>\n                <th>\n                  <nobr>数量</nobr>\n                </th>\n                <th>\n                  <nobr>单价</nobr>\n                </th>\n                <th>\n                  <nobr>金额</nobr>\n                </th>\n                <th>\n                  <nobr>操作</nobr>\n                </th>\n              </tr>\n            </template>\n            <template partial='body'>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\"><font :style=\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\">{{$index + 1}}</font></td>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\"><font :style=\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\">{{row.f_batch_name}}</font></td>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\"><font :style=\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\">{{row.f_unit}}</font></td>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\"><font :style=\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\">{{row.f_number}}</font></td>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\"><font :style=\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\">{{row.f_price}}</font></td>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\"><font :style=\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\">{{row.f_cash}}</font></td>\n              <td :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\">\n                <div v-if=\"$parent.$parent.$parent.show\" :style=\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\">\n                  <button type=\"button\" name=\"button\" class=\"btn btn-link\"\n                          @click=\"$parent.$parent.$parent.update(row)\">修正\n                  </button>\n                  <button type=\"button\" name=\"button\" class=\"btn btn-link\"\n                          @click=\"$parent.$parent.$parent.delete(row)\">移除\n                  </button>\n                </div>\n              </td>\n            </template>\n          </data-grid>\n        </criteria-paged>\n      </div>\n    </div>\n    <modal :show.sync=\"modifyshow\" backdrop=\"false\">\n      <header slot=\"modal-header\" class=\"modal-header\">\n        <h4 class=\"modal-title\">新增项目</h4>\n      </header>\n      <article slot=\"modal-body\" class=\"modal-body\">\n        <form class=\"form-horizontal\">\n          <div class=\"col-sm-3 form-group form-input-group\" style=\"width: 100%\">\n            <label for=\"f_batch_name\" class=\"control-label\">项目名</label>\n            <v-select :value.sync=\"addrow.f_batch_name\" v-model=\"updaterow.f_batch_name\"\n                      :options='material' placeholder='请选择' style=\"width: 50%\"\n                      close-on-select>\n            </v-select>\n          </div>\n          <div class=\"col-sm-3 form-group form-input-group\" style=\"width: 100%\">\n            <label for=\"f_number\" class=\"control-label\">数量</label>\n            <input type=\"number\" class=\"form-control\" v-model=\"addrow.f_number\"\n                   placeholder='数量'>\n          </div>\n        </form>\n      </article>\n      <footer slot=\"modal-footer\" class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-success\" @click='modifyConfirm'>确认</button>\n        <button type=\"button\" class=\"btn btn-default\" @click='modifyclose'>取消</button>\n      </footer>\n    </modal>\n    <modal :show.sync=\"updateshow\" backdrop=\"false\">\n      <header slot=\"modal-header\" class=\"modal-header\">\n        <h4 class=\"modal-title\">修改项目名</h4>\n      </header>\n      <article slot=\"modal-body\" class=\"modal-body\">\n        <form class=\"form-horizontal\">\n          <div class=\"col-sm-3 form-group form-input-group\" style=\"width: 100%\">\n            <label for=\"f_batch_name\" class=\"control-label\">项目名</label>\n            <input type=\"text\" readonly class=\"form-control\" v-model=\"updaterow.f_batch_name\"\n                   placeholder='预算项目'>\n          </div>\n\n          <div class=\"col-sm-3 form-group form-input-group\" style=\"width: 100%\">\n            <label for=\"f_number\" class=\"control-label\">数量</label>\n            <input type=\"text\" class=\"form-control\" v-model=\"updaterow.f_number\"\n                   placeholder='数量'>\n          </div>\n        </form>\n      </article>\n      <footer slot=\"modal-footer\" class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-success\" @click='updateConfirm'>确认</button>\n        <button type=\"button\" class=\"btn btn-default\" @click='updateclose'>取消</button>\n      </footer>\n    </modal>\n  </div>\n</template>\n<script>\n  import {PagedList} from 'vue-client'\n  import {HttpResetClass} from 'vue-client'\n\n  let insert = async function (self) {\n    let param = {\n      f_filiale: self.selectdata.f_filiale,\n      f_apply_num: self.selectdata.f_apply_num,\n      f_process_id: self.selectdata.f_process_id,\n      f_batch_name: self.addrow.f_batch_name[0],\n      f_unit: self.addrow.f_unit,\n      f_number: self.addrow.f_number,\n      f_price: self.addrow.f_price,\n      f_cash: (self.addrow.f_number * self.addrow.f_price),\n      f_type: self.type,\n      f_state: '1'\n    }\n    console.log('新增成本项', param)\n    let http3 = new HttpResetClass()\n    var url = self.$androidUtil.getProxyUrl() + '/rs/entity/t_batch_item';\n    await http3.load('POST', url, param).then(() => {\n      // this.params.rows.splice(index, 1)\n      console.log('更新成功！')\n      self.addrow.f_batch_name = []\n      self.addrow.f_unit = ''\n      self.addrow.f_number = ''\n      self.addrow.f_price = ''\n      self.search()\n    })\n    self.search()\n    self.modifyshow = false\n  }\n  let deletecost = async function (self) {\n    let param = {\n      id: self.updaterow.id,\n      f_state: '0'\n    }\n    console.log('移除成本项', param)\n    self.$resetpost(self.$androidUtil.getProxyUrl()+'/rs/entity/t_batch_item', param).then(() => {\n    //await http3.load('POST',url, param).then(() => {\n      // this.params.rows.splice(index, 1)\n      console.log('更新成功！')\n      self.search()\n    })\n    self.search()\n    self.modifyshow = false\n  }\n  let update = async function (self) {\n    let param = {\n      id: self.updaterow.id,\n      f_batch_name: self.updaterow.f_batch_name,\n      f_unit: self.updaterow.f_unit,\n      f_number: self.updaterow.f_number,\n      f_price: self.updaterow.f_price,\n      f_cash: (self.updaterow.f_number * self.updaterow.f_price),\n    }\n    console.log('修改成本项', param)\n\n    self.$resetpost(self.$androidUtil.getProxyUrl()+'/rs/entity/t_batch_item', param).then(() => {\n      // this.params.rows.splice(index, 1)\n      console.log('更新成功！')\n      self.updaterow = null\n      self.search()\n    })\n    self.search()\n    self.updateshow = false\n  }\n  export default {\n    title: '预算项目',\n    props: ['selectdata', 'edit'],\n    data() {\n      return {\n        batchmodel: new PagedList(this.$androidUtil.getProxyUrl()+'/rs/sql/getBatchItem', 8, {orderitem: '`id`'}),\n        model: new PagedList(this.$androidUtil.getProxyUrl()+'/rs/sql/getBatchItem', 8, {orderitem: '`id`'}),\n        number: 0,\n        yusuan: 0,\n        numbergongliao: 0,\n        modifyshow: false,\n        updateshow: false,\n        updaterow: null,\n        addrow: null,\n        material: [],\n        type: null,\n        show: false,\n        iscash: [\n          {label: '是', value: '是'},\n          {label: '否', value: '否'}\n        ],\n      }\n    },\n    ready() {\n      this.search()\n    },\n    methods: {\n      async importemplate() { // 材料导入\n        // :value.sync=\"addrow.f_batch_name\" v-model=\"updaterow.f_batch_name\"   v-model=\"addrow.f_number\"\n        let materialTemplate = []\n        if(this.$appdata.getSingleValue(\"材料导入模板\")){\n          materialTemplate = JSON.stringify(this.$appdata.getSingleValue(\"材料导入模板\"))\n        }else{\n          materialTemplate = [[\"燃气表\"], [\"表接头\"], [\"DN15镀锌管\"], [\"DN15弯头*90\"], [\"DN15外丝直连\"], [\"DN15三通\"], [\"铜球阀\"], [\"单嘴阀\"]]\n        }\n        for (let i = 0; i < materialTemplate.length; i++) {\n          this.addrow.f_batch_name = materialTemplate[i]\n          this.$set('updaterow.f_batch_name', materialTemplate[i])\n          // this.updaterow.f_batch_name =materialTemplate[i]\n          this.addrow.f_number = 1\n          //  获取价格\n          let http = new HttpResetClass()\n          await http.load('POST', this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `f_name = '${this.addrow.f_batch_name[0]}' and f_use_type='预算/结算项目'`}}, {\n            resolveMsg: null,\n            rejectMsg: null\n          }).then((res) => {\n            console.log('查询到的选项', res)\n            this.addrow.f_price = res.data.material[0].f_price\n            this.addrow.f_unit = res.data.material[0].f_unit\n          })\n          let http2 = new HttpResetClass()\n          await http2.load('POST', this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `f_name = '${this.updaterow.f_batch_name[0]}' and f_use_type='预算/结算项目'`}}, {\n            resolveMsg: null,\n            rejectMsg: null\n          }).then((res) => {\n            console.log('查询到的选项', res)\n            this.updaterow.f_price = res.data.material[0].f_price\n            this.updaterow.f_unit = res.data.material[0].f_unit\n          })\n          await this.modifyConfirm()\n        }\n        this.search()\n      },\n      async importbudget() {\n        let materialTemplate = this.batchmodel.rows\n        for (let i = 0; i < materialTemplate.length; i++) {\n          let temp = []\n          temp.push(materialTemplate[i].f_batch_name)\n          this.addrow.f_batch_name = temp\n          this.$set('updaterow.f_batch_name', temp)\n          // this.updaterow.f_batch_name =materialTemplate[i]\n          this.addrow.f_number = materialTemplate[i].f_number\n          //  获取价格\n          let http = new HttpResetClass()\n          await http.load('POST', this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `f_name = '${this.addrow.f_batch_name[0]}' and f_use_type='预算/结算项目'`}}, {\n            resolveMsg: null,\n            rejectMsg: null\n          }).then((res) => {\n            console.log('查询到的选项', res)\n            this.addrow.f_price = res.data.material[0].f_price\n            this.addrow.f_unit = res.data.material[0].f_unit\n          })\n          let http2 = new HttpResetClass()\n          await http2.load('POST', this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `f_name = '${this.updaterow.f_batch_name[0]}' and f_use_type='预算/结算项目'`}}, {\n            resolveMsg: null,\n            rejectMsg: null\n          }).then((res) => {\n            console.log('查询到的选项', res)\n            this.updaterow.f_price = res.data.material[0].f_price\n            this.updaterow.f_unit = res.data.material[0].f_unit\n          })\n          await this.modifyConfirm()\n        }\n        this.search()\n      },\n      getname() {\n        this.$resetpost(this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `1=1 and f_use_type='预算/结算项目'`}}, {\n          resolveMsg: null,\n          rejectMsg: null\n        }).then((res) => {\n          console.log('查询到的选项', res)\n          let house = []\n          for (let row of res.data.material) {\n            house.push({label: row.f_name, value: row.f_name})\n          }\n          this.material = house\n        })\n      },\n      search() {\n        this.show = false\n\n        console.log('执行查询')\n        if (this.selectdata.defname == '工商预算审核(技术科科长)' || this.selectdata.defname == '工商预算审核(分管副总)' || this.selectdata.defname == '工商预算审核(总经理)' ||\n          this.selectdata.defname == '工商现场勘查' || this.selectdata.defname == '民用现场勘查') {\n          console.log('预算')\n          this.type = '预算'\n        }\n        if (this.selectdata.defname == '户内安装' || this.selectdata.defname == '安装审核' || this.selectdata.defname == '点火申请' || this.selectdata.defname == '收费材料费' || this.selectdata.defname == '工程验收'||this.selectdata.defname == '点火') {\n          console.log('结算')\n          this.type = '结算'\n        }\n        if (this.selectdata.defname == '工商现场勘查' || this.selectdata.defname == '民用现场勘查' || this.selectdata.defname == '户内安装') {\n          console.log('显示按钮')\n          this.show = true\n        }\n\n        let condition = ` f_apply_num  = '${this.selectdata.f_apply_num}' and f_type='${this.type}'`\n        let condition1 = ` f_apply_num  = '${this.selectdata.f_apply_num}' and f_type='预算'`\n        this.model.search(condition)\n        this.batchmodel.search(condition1)\n        this.getnumber()\n      },\n\n      getnumber() {\n        // 结算\n        let http = new HttpResetClass()\n        let condition = ` f_apply_num  = '${this.selectdata.f_apply_num}' and f_batch_name like '%超%' and f_type='结算'`\n        http.load('POST', this.$androidUtil.getProxyUrl()+'/rs/sql/getBatchPrice', {\n          data: {\n            condition: condition,\n            orderitem: `f_price desc`\n          }\n        }, {resolveMsg: null, rejectMsg: null}).then((res) => {\n          if (res.data[0].f_price) {\n            this.number = res.data[0].f_price\n          } else {\n            this.number = 0\n          }\n          console.log('11111111111')\n          this.$dispatch('get-price', this.number, '结算')\n        })\n        // 预算yusuan\n        let condition2 = ` f_apply_num  = '${this.selectdata.f_apply_num}' and f_batch_name like '%超%' and f_type='预算'`\n        let http2 = new HttpResetClass()\n        http2.load('POST', this.$androidUtil.getProxyUrl()+'/rs/sql/getBatchPrice', {\n          data: {\n            condition: condition2,\n            orderitem: `f_price desc`\n          }\n        }, {resolveMsg: null, rejectMsg: null}).then((res) => {\n          if (res.data[0].f_price) {\n            this.yusuan = res.data[0].f_price\n          } else {\n            this.yusuan = 0\n          }\n          console.log('11111111111')\n          this.$dispatch('get-price', this.yusuan, '预算')\n        })\n      },\n      modify() {\n        this.getname()\n        this.modifyshow = true\n      },\n      modifyclose() {\n        this.modifyshow = false\n        this.addrow.f_batch_name = []\n        this.addrow.f_unit = ''\n        this.addrow.f_number = ''\n        this.addrow.f_price = ''\n      },\n      async modifyConfirm() {\n        if (!this.addrow.f_batch_name) {\n          this.$showAlert(\"请输入预算项目\", \"warning\", 1500)\n          return\n        }\n        if (!this.addrow.f_number) {\n          this.$showAlert(\"请输入数量\", \"warning\", 1500)\n          return\n        }\n        await insert(this)\n      },\n      update(row) {\n        this.updaterow = row\n        this.updateshow = true\n      },\n      updateclose() {\n        this.search()\n        this.updaterow = null\n        this.updateshow = false\n      },\n      async updateConfirm() {\n        if (!this.updaterow.f_batch_name) {\n          this.$showAlert(\"请输入预算项目\", \"warning\", 1500)\n          return\n        }\n        if (!this.updaterow.f_number) {\n          this.$showAlert(\"请输入数量\", \"warning\", 1500)\n          return\n        }\n       await update(this)\n        // await this.$showMessage(`是否确认修改此预算项`, ['confirm', 'cancel']).then((res) => {\n        //   if (res === 'confirm') {\n        //\n        //   }\n        // })\n      },\n      delete(row) {\n        this.updaterow = row\n        this.$showMessage(`是否确认删除此预算项`, ['confirm', 'cancel']).then((res) => {\n          if (res === 'confirm') {\n            deletecost(this)\n          }\n        })\n      }\n\n    },\n    computed: {},\n    events: {},\n    watch: {\n      'number'(val) {\n        this.$dispatch('get-price', val, '结算')\n      },\n      'yusuan'(val) {\n        this.$dispatch('get-price', val, '预算')\n      },\n      'selectdata'() {\n        this.search()\n      },\n      'addrow.f_batch_name[0]'(val) {\n        this.$resetpost(this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `f_name = '${val}' and f_use_type='预算/结算项目'`}}, {\n          resolveMsg: null,\n          rejectMsg: null\n        }).then((res) => {\n          console.log('查询到的选项', res)\n          this.addrow.f_price = res.data.material[0].f_price\n          this.addrow.f_unit = res.data.material[0].f_unit\n        })\n      },\n      'updaterow.f_batch_name[0]'(val) {\n        this.$resetpost(this.$androidUtil.getProxyUrl()+'/rs/logic/getMaterialItem', {data: {condition: `f_name = '${val}' and f_use_type='预算/结算项目'`}}, {\n          resolveMsg: null,\n          rejectMsg: null\n        }).then((res) => {\n          console.log('查询到的选项', res)\n          this.updaterow.f_price = res.data.material[0].f_price\n          this.updaterow.f_unit = res.data.material[0].f_unit\n        })\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// AppBatchItem.vue?4bb4e503","module.exports = \" <div class=flex style=\\\"height: auto\\\"> <div style=\\\"height: auto\\\" class=flex v-if=\\\"selectdata.defname=='户内安装'||selectdata.defname=='安装审核'||selectdata.defname=='工程验收'\\\"> <p class=\\\"bg-info text-center\\\" style=\\\"padding: 8px;font-size: 20px\\\">预算项目表 </p> <div class=\\\"form-inline auto\\\" style=\\\"margin-bottom: 5px\\\"> <criteria-paged :model=batchmodel :pager=true v-ref:paged1> <data-grid :model=$parent.batchmodel v-ref:grid1 partial=list> <template partial=head> <tr> <th> <nobr>序号</nobr> </th> <th> <nobr>预算项目</nobr> </th> <th> <nobr>单位</nobr> </th> <th> <nobr>数量</nobr> </th> <th> <nobr>单价</nobr> </th> <th> <nobr>金额</nobr> </th> </tr> </template> <template partial=body> <td style=\\\"text-align: center\\\">{{$index + 1}}</td> <td style=\\\"text-align: center\\\">{{row.f_batch_name}}</td> <td style=\\\"text-align: center\\\">{{row.f_unit}}</td> <td style=\\\"text-align: center\\\">{{row.f_number}}</td> <td style=\\\"text-align: center\\\">{{row.f_price}}</td> <td style=\\\"text-align: center\\\">{{row.f_cash}}</td> </template> </data-grid> </criteria-paged> </div> </div> <div style=\\\"height: auto\\\" class=flex> <p class=\\\"bg-info text-center\\\" style=\\\"padding: 8px;font-size: 20px\\\" v-if=\\\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'\\\">预算项目表 </p> <p class=\\\"bg-info text-center\\\" style=\\\"padding: 8px;font-size: 20px\\\" v-if=\\\"selectdata.defname=='户内安装'||selectdata.defname=='安装审核'||selectdata.defname=='点火申请'||selectdata.defname=='点火'||selectdata.defname=='收费材料费'||selectdata.defname=='工程验收'\\\"> 结算项目表 </p> <div class=\\\"form-inline auto bg-info\\\" v-if=\\\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'||selectdata.defname=='户内安装'\\\" style=\\\"float: right\\\"> <div class=form-group style=\\\"float: right\\\" v-if=\\\"selectdata.defname=='工商现场勘查'||selectdata.defname=='民用现场勘查'\\\"> <button class=\\\"btn btn-success\\\" @click=importemplate()>导入模板</button> </div> <div class=form-group style=\\\"float: right\\\" v-if=\\\"selectdata.defname=='户内安装'\\\"> <button class=\\\"btn btn-success\\\" @click=importbudget()>从预算导入</button> </div> <div class=form-group style=\\\"float: right\\\"> <button class=\\\"btn btn-success\\\" @click=modify()>新增</button> </div> </div> <div class=\\\"form-inline auto\\\" style=\\\"margin-bottom: 5px\\\"> <criteria-paged :model=model :pager=true v-ref:paged> <data-grid :model=model v-ref:grid partial=list> <template partial=head> <tr> <th> <nobr>序号</nobr> </th> <th v-if=\\\"$parent.$parent.$parent.selectdata.defname=='工商预算审核(技术科科长)'||$parent.$parent.$parent.selectdata.defname=='工商预算审核(分管副总)'||$parent.$parent.$parent.selectdata.defname=='工商预算审核(总经理)'||\\n                  $parent.$parent.$parent.selectdata.defname=='工商现场勘查'||$parent.$parent.$parent.selectdata.defname=='民用现场勘查'\\\"> <nobr>预算项目</nobr> </th> <th v-if=\\\"$parent.$parent.$parent.selectdata.defname=='户内安装'||$parent.$parent.$parent.selectdata.defname=='安装审核'||$parent.$parent.$parent.selectdata.defname=='点火申请'||$parent.$parent.$parent.selectdata.defname=='收费材料费'||$parent.$parent.$parent.selectdata.defname=='工程验收'\\\"> <nobr>结算项目</nobr> </th> <th> <nobr>单位</nobr> </th> <th> <nobr>数量</nobr> </th> <th> <nobr>单价</nobr> </th> <th> <nobr>金额</nobr> </th> <th> <nobr>操作</nobr> </th> </tr> </template> <template partial=body> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{$index + 1}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_batch_name}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_unit}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_number}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_price}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"><font :style=\\\"row.f_batch_name.includes('超')?'font-weight:bold;color: blue':''\\\">{{row.f_cash}}</font></td> <td :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"> <div v-if=$parent.$parent.$parent.show :style=\\\"row.f_batch_name.includes('超')?'background-color: yellow;text-align: center;':'text-align: center;'\\\"> <button type=button name=button class=\\\"btn btn-link\\\" @click=$parent.$parent.$parent.update(row)>修正 </button> <button type=button name=button class=\\\"btn btn-link\\\" @click=$parent.$parent.$parent.delete(row)>移除 </button> </div> </td> </template> </data-grid> </criteria-paged> </div> </div> <modal :show.sync=modifyshow backdrop=false> <header slot=modal-header class=modal-header> <h4 class=modal-title>新增项目</h4> </header> <article slot=modal-body class=modal-body> <form class=form-horizontal> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_batch_name class=control-label>项目名</label> <v-select :value.sync=addrow.f_batch_name v-model=updaterow.f_batch_name :options=material placeholder=请选择 style=\\\"width: 50%\\\" close-on-select> </v-select> </div> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_number class=control-label>数量</label> <input type=number class=form-control v-model=addrow.f_number placeholder=数量> </div> </form> </article> <footer slot=modal-footer class=modal-footer> <button type=button class=\\\"btn btn-success\\\" @click=modifyConfirm>确认</button> <button type=button class=\\\"btn btn-default\\\" @click=modifyclose>取消</button> </footer> </modal> <modal :show.sync=updateshow backdrop=false> <header slot=modal-header class=modal-header> <h4 class=modal-title>修改项目名</h4> </header> <article slot=modal-body class=modal-body> <form class=form-horizontal> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_batch_name class=control-label>项目名</label> <input type=text readonly=readonly class=form-control v-model=updaterow.f_batch_name placeholder=预算项目> </div> <div class=\\\"col-sm-3 form-group form-input-group\\\" style=\\\"width: 100%\\\"> <label for=f_number class=control-label>数量</label> <input type=text class=form-control v-model=updaterow.f_number placeholder=数量> </div> </form> </article> <footer slot=modal-footer class=modal-footer> <button type=button class=\\\"btn btn-success\\\" @click=updateConfirm>确认</button> <button type=button class=\\\"btn btn-default\\\" @click=updateclose>取消</button> </footer> </modal> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/app_apply/AppBatchItem.vue\n// module id = 799\n// module chunks = 98","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./AppBatchItem.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./AppBatchItem.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app_apply/AppBatchItem.vue\n// module id = 985\n// module chunks = 98"],"sourceRoot":""}