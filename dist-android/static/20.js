webpackJsonp([20],{13:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(e.f_state="",e.f_signin_time&&e.f_knockoff_time){var r=e.f_signin_time.substring(11,16),a=e.f_knockoff_time.substring(11,16);r>t&&(e.f_state="迟到"),a<n&&(e.f_state=e.f_state+"早退")}else e.f_state="缺勤";e.f_state||(e.f_state="正常")}function o(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+"-"+(t<10?"0"+t:t)}function s(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+(t<10?"0"+t:t)}function l(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)}function i(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+""+(t<10?"0"+t:t)+(n<10?"0"+n:n)}function u(){var e=new Date,t=e.getMonth()+1;return[e.getFullYear()+"-"+(t<10?"0"+t:t)+"-01",e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+new Date(e.getFullYear(),t,0).getDate()]}function d(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+" "+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)}function c(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+"T"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)}function f(e){return new Date(e.substr(0,4),e.substr(5,2)-1,e.substr(8,2),e.substr(11,2),e.substr(14,2),e.substr(17,2))}function m(e){var t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+"T"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)}function p(){var e=new Uint16Array(8);window.crypto.getRandomValues(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"请选择";if("view"!=e){var a=[];if(n&&a.push({label:r,value:null}),E.default.param&&E.default.param[t]){var o=E.default.param[t];o.forEach(function(e){a.push({label:e.name,value:e.name})})}else a.push({label:"请在系统设置里更新参数",value:"请在系统设置里更新参数"});return a}E.default.getParams(t,[null])}function v(e){return("number"!=typeof e||0!=e)&&(!e||(e+="",e=e.trim(),!e))}function _(e){return!window.isNaN(e)&&e%1===0}function b(e){return!window.isNaN(e)}function h(e){for(var t in e)e.hasOwnProperty(t)&&("object"==(0,P.default)(e[t])&&null!=e[t]?h(e[t]):"true"!==e[t]&&"false"!=e[t]||(e[t]="true"===e[t]))}function y(e){for(var t in e)t.endsWith("_path")?e[t]?e[t]="rs/db/file/"+e[t]:e[t]="rs/db/file/nopic.png":null!==e[t]&&"object"==(0,P.default)(e[t])&&y(e[t])}function x(e,t){return new F.default(function(n,r){var a=void 0;"css"==e?(a=document.createElement("link"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",t)):"js"==e&&(a=document.createElement("script"),a.setAttribute("type","text/javascript"),a.setAttribute("src",t)),a&&(a.setAttribute("async",""),a.setAttribute("defer",""),a.addEventListener("load",function(){n(a)},!1),a.addEventListener("error",function(){r(a)},!1),document.body.appendChild(a))})}function w(e){return e.substring(10)}function M(e){var t="",n="",r=new Date;t=r.getDay();var a=r.getMonth()+1,o=r.getDate(),s=r.getYear();n=s>200?s:1900+s;var l=["星期日","星期一","星期二","星期三","星期四","星期五","星期日","星期六"];return n+"年"+a+"月"+o+"日  "+l[t]}function S(e,t){var n=new Date(e);n=n.valueOf(),n+=24*t*60*60*1e3,n=new Date(n);var r=n.getMonth()+1,a=n.getDate(),o=n.getHours(),s=n.getMinutes(),l=n.getSeconds();return n.getFullYear()+"-"+(r<10?"0"+r:r)+"-"+(a<10?"0"+a:a)+" "+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s)+":"+(l<10?"0"+l:l)}function A(e){var t=window.location.search,n=e.length,r=t.indexOf(e);if(r===-1)return"";r+=n+1;var a=t.indexOf("&",r);return a===-1?t.substring(r):t.substring(r,a)}function D(e){var t=j(window.location.search.slice(1,window.location.search.length)),n=e.length,r=t.indexOf(e);if(r===-1)return"";r+=n+1;var a=t.indexOf("&",r);return a===-1?t.substring(r):t.substring(r,a)}function $(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return escape(t)}function j(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t}function C(e){var t=(new Date).getTime(),n=new Date(e).getTime(),r=t-n,a=6e4,o=60*a,s=24*o,l=30*s,i=12*l,u="";return r<=2*a?u="刚刚":2*a<r&&r<o?u=Math.floor(r/a)+"分钟前":o<r&&r<=s?u=Math.floor(r/o)+"小时前":s<r&&r<=l?u=Math.floor(r/s)+"天前":l<r&&r<=i?u=Math.floor(r/l)+"个月前":i<r&&(u=Math.floor(r/i)+"年前"),u}function k(e){var t=e.split("-"),n=t[1]-0+1;return t[0]+"-"+(n<10?"0"+n:n)+"-20 00:00:00"}Object.defineProperty(t,"__esModule",{value:!0}),t.f=void 0;var Y=n(10),F=r(Y),O=n(12),P=r(O);t.getAttendanceState=a,t.toStandardYearMonth=o,t.toStandardYearMonth1=s,t.toStandardDateString=l,t.toStandardDateString2=i,t.toStartAndEndDateString=u,t.toStandardTimeString=d,t.to3339TimeString=c,t.parse3339String=f,t.format3339TimeString=m,t.guid=p,t.choices=g,t.required=v,t.isInt=_,t.isFloat=b,t.booleanFilter=h,t.ratifyPics=y,t.loadscript=x,t.orgName=w,t.getNowDate=M,t.addDate=S,t.getUrlParames=A,t.getUrlCompileParames=D,t.compileStr=$,t.uncompileStr=j,t.dateDescripte=C,t.nextMonth20=k;var T=n(1),E=r(T);t.f=void 0},344:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=a(o),l=n(6),i=a(l),u=n(1),d=a(u),c=n(13),f=r(c),m=n(8),p=a(m),g=s.default.mark(function e(t){var n,r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={model:{f_processid:t.model.f_process_id},loginUser:{id:d.default.user.id,name:d.default.user.name,ename:d.default.user.ename},employeetemplate:t.employeetemplate,subdep:"提交"},r={tablename:"t_apply",parameters:t.model,param:n},e.next=4,t.$androidUtil.bzLogic("uploadapply",r);case 4:if(a=e.sent,console.log("上传返回json>>>>>>>>>>>> "+(0,i.default)(a)),a){e.next=9;break}return t.$showMessage("上传失败！"),e.abrupt("return");case 9:if(200==a.code){e.next=12;break}return t.$showMessage("上传失败，原因:"+a.msg),e.abrupt("return");case 12:t.$showMessage("上传成功！"),t.updateState(),t.$parent.$back();case 15:case"end":return e.stop()}},e,this)});t.default={title:"通气点火",props:{model:{type:Object}},data:function(){return{signType:{type:Boolean,default:!0}}},methods:{upload:function(){var e=/^\d+$/;if(!e.test(this.model.f_gas_number))return this.$showMessage("通气户数必须为整数！"),!1;if(!e.test(this.model.f_notgas_number))return this.$showMessage("未通气户数必须为整数！"),!1;this.model.f_app_upload="已完成",console.log("前台开始本地保存，传入数据json>>>>>>>"+(0,i.default)(this.model));var t=this.$androidUtil.bzLogic("saveapplyforapp",{parameters:this.model});if(200!=t.code)return void this.$showMessage("保存失败,上传终止！");var n=g(this);(0,p.default)(n)},mute:function(){HostApp.mute()},updateState:function(){console.log("前台上传完成，开始回写本地上传状态"),this.model.f_app_upload="已上传",this.$androidUtil.bzLogic("saveapplyforapp",{parameters:this.model})},save:function(){var e=/^\d+$/;if(!e.test(this.model.f_gas_number))return this.$showMessage("通气户数必须为整数！"),!1;if(!e.test(this.model.f_notgas_number))return this.$showMessage("未通气户数必须为整数！"),!1;this.model.f_app_upload="已完成",console.log("前台开始本地保存，传入数据json>>>>>>>"+(0,i.default)(this.model));var t=this.$androidUtil.bzLogic("saveapplyforapp",{parameters:this.model});console.log("前台保存结束，返回res>>>>>>>"+(0,i.default)(t)),200==t.code?(console.log("前台保存成功!"),this.$showMessage("保存成功！")):(console.log("前台保存失败"),this.$showMessage("保存失败！"))}},ready:function(){this.model.f_completed_date=f.toStandardTimeString(),this.model.f_gas_date=f.toStandardDateString(),(navigator.userAgent.match("iPad")||navigator.userAgent.match("iPhone"))&&(this.signType=!1),this.model&&this.model.f_single_man&&(this.model.f_single_man=this.f_single_man),d.default.user&&(console.log("获取到Vue.user"),this.model.f_gas_department=d.default.user.f_parentname,this.model.f_gas_operator=d.default.user.name)},watch:{"model.f_fee_state":function(e){e?this.model.f_fee_state=1:this.model.f_fee_state=0}}}},492:function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".radius_btn{border-radius:5px;margin-top:.1rem}","",{version:3,sources:["/./src/components/app_apply/Ventilation.vue"],names:[],mappings:"AAkMA,YACE,kBAAoB,AACpB,gBAAmB,CACpB",file:"Ventilation.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.radius_btn{\n  border-radius:  5px;\n  margin-top: 0.1rem;\n}\n"],sourceRoot:"webpack://"}])},563:function(e,t,n){var r=n(492);"string"==typeof r&&(r=[[e.id,r,""]]);n(5)(r,{});r.locals&&(e.exports=r.locals)},736:function(e,t){e.exports=' <div class="select-overspread repair-bg auto"> <validator name=v> <div class="auto repair-info-content compatible"> <div class="row auto"> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group" :class="$v.f_gas_name.required ? \'has-error\' : \'\'"> <label class="text-justify lb-left" for=f_gas_name>通气人员：</label> <input type=text class=form-control id=f_gas_name v-model=model.f_gas_name v-validate:f_gas_name="{required: true}"/> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group" :class="[$v.f_gas_number.pattern ? \'has-error\' : \'\']"> <label class="text-justify lb-left" for=f_gas_number>通气户数：</label> <input type=text class=form-control id=f_gas_number v-model=model.f_gas_number v-validate:f_gas_number="{pattern:\'/^[+]{0,1}(\\\\d+)$|^[+]{0,1}(\\\\d+\\\\.\\\\d+)$/\'}"> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group" :class="[$v.f_notgas_number.pattern ? \'has-error\' : \'\']"> <label class="text-justify lb-left" for=f_notgas_number>未通气户数：</label> <input type=text class=form-control id=f_notgas_number v-model=model.f_notgas_number v-validate:f_notgas_number="{pattern:\'/^[+]{0,1}(\\\\d+)$|^[+]{0,1}(\\\\d+\\\\.\\\\d+)$/\'}"> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group" :class="$v.f_regulatoruser.required ? \'has-error\' : \'\'"> <label class="text-justify lb-left" for=f_regulatoruser>调压人员：</label> <input type=text class=form-control id=f_regulatoruser v-model=model.f_regulatoruser v-validate:f_regulatoruser="{required: true}"/> </div> <div class="col-xs-12 col-sm-12 col-md-6 form-input-group"> <input type=checkbox class="" id=checkbox v-model=model.f_fee_state /> <label for=checkbox class="text-justify lb-left">费用是否结清</label> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left">通气前安检情况：</label> <textarea class=form-control cols=30 rows=4 style="resize: vertical" v-model=model.f_gas_security></textarea> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left">通气备注：</label> <textarea class=form-control cols=30 rows=4 style="resize: vertical" v-model=model.f_gas_remarks></textarea> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left" for=costmatter>部门：</label> <input type=text class=form-control id=costmatter v-model=model.f_gas_department readonly=readonly> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left" for=costmatter>操作人：</label> <input type=text class=form-control id=costmatter v-model=model.f_gas_operator readonly=readonly> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="lb-left text-justify">分公司：</label> <input type=text class=form-control v-model=model.f_filiale readonly=readonly /> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="lb-left text-justify">操作日期：</label> <input type=text class=form-control v-model=model.f_gas_date readonly=readonly> </div> </div> </div> <div style="text-align:center;margin-top: 5px" v-if=model.canedit> <button @click=save type=button class="btn btn-primary radius_btn">保存</button> <button @click=upload type=button class="btn btn-primary radius_btn">上传</button> </div> </validator> </div> '},895:function(e,t,n){var r,a,o={};n(563),r=n(344),a=n(736),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports.default);var s="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(s.template=a),s.computed||(s.computed={}),Object.keys(o).forEach(function(e){var t=o[e];s.computed[e]=function(){return t}})}});
//# sourceMappingURL=20.js.map