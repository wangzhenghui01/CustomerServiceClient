webpackJsonp([21],{13:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(e.f_state="",e.f_signin_time&&e.f_knockoff_time){var o=e.f_signin_time.substring(11,16),r=e.f_knockoff_time.substring(11,16);o>t&&(e.f_state="迟到"),r<n&&(e.f_state=e.f_state+"早退")}else e.f_state="缺勤";e.f_state||(e.f_state="正常")}function a(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+"-"+(t<10?"0"+t:t)}function s(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+(t<10?"0"+t:t)}function l(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)}function i(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+""+(t<10?"0"+t:t)+(n<10?"0"+n:n)}function u(){var e=new Date,t=e.getMonth()+1;return[e.getFullYear()+"-"+(t<10?"0"+t:t)+"-01",e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+new Date(e.getFullYear(),t,0).getDate()]}function d(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),o=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+" "+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)}function c(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),o=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+"T"+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)}function f(e){return new Date(e.substr(0,4),e.substr(5,2)-1,e.substr(8,2),e.substr(11,2),e.substr(14,2),e.substr(17,2))}function p(e){var t=e.getMonth()+1,n=e.getDate(),o=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+"T"+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)}function m(){var e=new Uint16Array(8);window.crypto.getRandomValues(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"请选择";if("view"!=e){var r=[];if(n&&r.push({label:o,value:null}),P.default.param&&P.default.param[t]){var a=P.default.param[t];a.forEach(function(e){r.push({label:e.name,value:e.name})})}else r.push({label:"请在系统设置里更新参数",value:"请在系统设置里更新参数"});return r}P.default.getParams(t,[null])}function v(e){return("number"!=typeof e||0!=e)&&(!e||(e+="",e=e.trim(),!e))}function h(e){return!window.isNaN(e)&&e%1===0}function b(e){return!window.isNaN(e)}function _(e){for(var t in e)e.hasOwnProperty(t)&&("object"==(0,E.default)(e[t])&&null!=e[t]?_(e[t]):"true"!==e[t]&&"false"!=e[t]||(e[t]="true"===e[t]))}function y(e){for(var t in e)t.endsWith("_path")?e[t]?e[t]="rs/db/file/"+e[t]:e[t]="rs/db/file/nopic.png":null!==e[t]&&"object"==(0,E.default)(e[t])&&y(e[t])}function x(e,t){return new B.default(function(n,o){var r=void 0;"css"==e?(r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",t)):"js"==e&&(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",t)),r&&(r.setAttribute("async",""),r.setAttribute("defer",""),r.addEventListener("load",function(){n(r)},!1),r.addEventListener("error",function(){o(r)},!1),document.body.appendChild(r))})}function w(e){return e.substring(10)}function A(e){var t="",n="",o=new Date;t=o.getDay();var r=o.getMonth()+1,a=o.getDate(),s=o.getYear();n=s>200?s:1900+s;var l=["星期日","星期一","星期二","星期三","星期四","星期五","星期日","星期六"];return n+"年"+r+"月"+a+"日  "+l[t]}function M(e,t){var n=new Date(e);n=n.valueOf(),n+=24*t*60*60*1e3,n=new Date(n);var o=n.getMonth()+1,r=n.getDate(),a=n.getHours(),s=n.getMinutes(),l=n.getSeconds();return n.getFullYear()+"-"+(o<10?"0"+o:o)+"-"+(r<10?"0"+r:r)+" "+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s)+":"+(l<10?"0"+l:l)}function D(e){var t=window.location.search,n=e.length,o=t.indexOf(e);if(o===-1)return"";o+=n+1;var r=t.indexOf("&",o);return r===-1?t.substring(o):t.substring(o,r)}function S(e){var t=k(window.location.search.slice(1,window.location.search.length)),n=e.length,o=t.indexOf(e);if(o===-1)return"";o+=n+1;var r=t.indexOf("&",o);return r===-1?t.substring(o):t.substring(o,r)}function C(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return escape(t)}function k(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t}function j(e){var t=(new Date).getTime(),n=new Date(e).getTime(),o=t-n,r=6e4,a=60*r,s=24*a,l=30*s,i=12*l,u="";return o<=2*r?u="刚刚":2*r<o&&o<a?u=Math.floor(o/r)+"分钟前":a<o&&o<=s?u=Math.floor(o/a)+"小时前":s<o&&o<=l?u=Math.floor(o/s)+"天前":l<o&&o<=i?u=Math.floor(o/l)+"个月前":i<o&&(u=Math.floor(o/i)+"年前"),u}function $(e){var t=e.split("-"),n=t[1]-0+1;return t[0]+"-"+(n<10?"0"+n:n)+"-20 00:00:00"}Object.defineProperty(t,"__esModule",{value:!0}),t.f=void 0;var F=n(10),B=o(F),Y=n(12),E=o(Y);t.getAttendanceState=r,t.toStandardYearMonth=a,t.toStandardYearMonth1=s,t.toStandardDateString=l,t.toStandardDateString2=i,t.toStartAndEndDateString=u,t.toStandardTimeString=d,t.to3339TimeString=c,t.parse3339String=f,t.format3339TimeString=p,t.guid=m,t.choices=g,t.required=v,t.isInt=h,t.isFloat=b,t.booleanFilter=_,t.ratifyPics=y,t.loadscript=x,t.orgName=w,t.getNowDate=A,t.addDate=M,t.getUrlParames=D,t.getUrlCompileParames=S,t.compileStr=C,t.uncompileStr=k,t.dateDescripte=j,t.nextMonth20=$;var O=n(1),P=o(O);t.f=void 0},340:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=r(a),l=n(6),i=r(l),u=n(1),d=r(u),c=n(13),f=o(c),p=n(8),m=r(p),g=s.default.mark(function e(t){var n,o,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={model:{f_processid:t.model.f_process_id},loginUser:{id:d.default.user.id,name:d.default.user.name,ename:d.default.user.ename},employeetemplate:t.employeetemplate,subdep:"提交"},o={tablename:"t_apply",parameters:t.model,param:n},e.next=4,t.$androidUtil.bzLogic("uploadapply",o);case 4:if(r=e.sent,console.log("上传返回json>>>>>>>>>>>> "+(0,i.default)(r)),r){e.next=9;break}return t.$showMessage("上传失败！"),e.abrupt("return");case 9:if(200==r.code){e.next=12;break}return t.$showMessage("上传失败，原因:"+r.msg),e.abrupt("return");case 12:t.$showMessage("上传成功！"),t.updateState(),t.$parent.$back();case 15:case"end":return e.stop()}},e,this)});t.default={title:"现场勘探信息",props:{model:{type:Object}},data:function(){return{signType:{type:Boolean,default:!0},fgastype:this.$appdata.getParam("用气类型"),fsurveyname:this.$appdata.getParam("勘查人员")}},methods:{upload:function(){var e=/^\d+$/;if(!e.test(this.model.f_install_num))return this.$showMessage("实际可安装用户必须为整数！"),!1;if(!e.test(this.model.f_payfee_num))return this.$showMessage("缴费户数必须为整数！"),!1;this.model.f_app_upload="已完成",console.log("前台开始本地保存，传入数据json>>>>>>>"+(0,i.default)(this.model));var t=this.$androidUtil.bzLogic("saveapplyforapp",{parameters:this.model});if(200!=t.code)return void this.$showMessage("保存失败,上传终止！");var n=g(this);(0,m.default)(n)},mute:function(){HostApp.mute()},updateState:function(){console.log("前台上传完成，开始回写本地上传状态"),this.model.f_app_upload="已上传",this.$androidUtil.bzLogic("saveapplyforapp",{parameters:this.model})},save:function(){var e=/^\d+$/;if(!e.test(this.model.f_install_num))return this.$showMessage("实际可安装用户必须为整数！"),!1;if(!e.test(this.model.f_payfee_num))return this.$showMessage("缴费户数必须为整数！"),!1;this.model.f_app_upload="已完成",console.log("前台开始本地保存，传入数据json>>>>>>>"+(0,i.default)(this.model));var t=this.$androidUtil.bzLogic("saveapplyforapp",{parameters:this.model});console.log("前台保存结束，返回res>>>>>>>"+(0,i.default)(t)),200==t.code?(console.log("前台保存成功!"),this.$showMessage("保存成功！")):(console.log("前台保存失败"),this.$showMessage("保存失败！"))},getFiledApply:function(){var e=this.$androidUtil.bzLogic("getFiledApply",{});this.$set("model.rows",e.data)}},ready:function(){console.log("--现场勘探--"),this.model.f_survey_time=f.toStandardTimeString(),(navigator.userAgent.match("iPad")||navigator.userAgent.match("iPhone"))&&(this.signType=!1),this.model&&this.model.f_single_man&&(this.model.f_single_man=this.f_single_man),this.model.f_survey_date=f.toStandardDateString(),d.default.user&&(console.log("获取到Vue.user"),this.model.f_survey_department=d.default.user.f_parentname,this.model.f_survey_operator=d.default.user.name)},watch:{"model.f_isdesign":function(e){e?this.model.f_isdesign=1:this.model.f_isdesign=0}}}},491:function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".radius_btn{border-radius:5px;margin-top:.1rem}select{font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;background:transparent;text-align:center;border-radius:5px}","",{version:3,sources:["/./src/components/app_apply/FieldExploration.vue"],names:[],mappings:"AA4PA,YACE,kBAAoB,AACpB,gBAAmB,CACpB,AAED,OACE,kCAAoB,AACpB,uBAA0B,AAC1B,kBAAmB,AACnB,iBAAmB,CACpB",file:"FieldExploration.vue",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.radius_btn{\n  border-radius:  5px;\n  margin-top: 0.1rem;\n}\n\nselect{\n  font-family: "微软雅黑";\n  background: rgba(0,0,0,0);\n  text-align: center;\n  border-radius: 5px;\n}\n\n'],sourceRoot:"webpack://"}])},562:function(e,t,n){var o=n(491);"string"==typeof o&&(o=[[e.id,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},733:function(e,t){e.exports=' <div class="select-overspread repair-bg auto"> <validator name=v> <div class="auto repair-info-content compatible"> <div class="row auto"> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group mg8"> <label class="text-justify lb-left" for=f_install_num>实际可安装用户:</label> <input type=text class=form-control id=f_install_num v-model=model.f_install_num> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left" for=costmatter>缴费户数:</label> <input type=text class=form-control id=costmatter v-model=model.f_payfee_num> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left">用气类型:</label> <select v-model=model.f_gas_type class=form-control> <option v-for="option in fgastype"> {{ option.label}} </option> </select> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left">勘察人员:</label> <select v-model=model.f_survey_name class=form-control> <option v-for="option in fsurveyname"> {{ option.label}} </option> </select> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left">勘查日期:</label> <datepicker :value.sync=model.f_survey_time :disabled-days-of-week=[] :format="\'yyyy-MM-dd HH:mm:ss\'" v-model=model.f_survey_time :show-reset-button=reset placeholder=请输入勘察日期 style="margin-bottom: 8px"> </datepicker> </div> <div class="col-xs-12 col-sm-12 col-md-6 form-input-group"> <input type=checkbox id=checkbox v-model=model.f_isdesign /> <label for=checkbox class="text-justify lb-left">是否设计出图</label> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left">勘察意见:</label> <textarea class=form-control cols=30 rows=4 style="resize: vertical" v-model=model.f_survey_remarks></textarea> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left" for=f_survey_department>部门:</label> <input type=text class=form-control id=f_survey_department v-model=model.f_survey_department readonly=readonly> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="text-justify lb-left" for=f_survey_operator>执行人:</label> <input type=text class=form-control id=f_survey_operator v-model=model.f_survey_operator readonly=readonly> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="lb-left text-justify">分公司:</label> <input type=text class=form-control v-model=model.f_filiale readonly=readonly> </div> <div class="col-xs-12 col-sm-6 col-md-6 form-input-group"> <label class="lb-left text-justify">操作日期:</label> <input type=text class=form-control v-model=model.f_survey_date readonly=readonly> </div> </div> <div style="text-align:center;margin-top: 5px" v-if=model.canedit> <button @click=save type=button class="btn btn-primary radius_btn">保存</button> <button @click=upload type=button class="btn btn-primary radius_btn">上传</button> </div> </div> </validator> </div> '},891:function(e,t,n){var o,r,a={};n(562),o=n(340),r=n(733),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var s="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;r&&(s.template=r),s.computed||(s.computed={}),Object.keys(a).forEach(function(e){var t=a[e];s.computed[e]=function(){return t}})}});
//# sourceMappingURL=21.js.map